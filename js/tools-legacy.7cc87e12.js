(self["webpackChunkadmin_iview_plus"]=self["webpackChunkadmin_iview_plus"]||[]).push([[895],{94362:function(t,n,e){var r=e(41589),o=Math.floor,i=function(t,n){var e=t.length,c=o(e/2);return e<8?u(t,n):a(t,i(r(t,0,c),n),i(r(t,c),n),n)},u=function(t,n){var e,r,o=t.length,i=1;while(i<o){r=i,e=t[i];while(r&&n(t[r-1],e)>0)t[r]=t[--r];r!==i++&&(t[r]=e)}return t},a=function(t,n,e,r){var o=n.length,i=e.length,u=0,a=0;while(u<o||a<i)t[u+a]=u<o&&a<i?r(n[u],e[a])<=0?n[u++]:e[a++]:u<o?n[u++]:e[a++];return t};t.exports=i},68886:function(t,n,e){var r=e(88113),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},30256:function(t,n,e){var r=e(88113);t.exports=/MSIE|Trident/.test(r)},98008:function(t,n,e){var r=e(88113),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},2707:function(t,n,e){"use strict";var r=e(82109),o=e(1702),i=e(19662),u=e(47908),a=e(26244),c=e(41340),l=e(47293),s=e(94362),f=e(9341),g=e(68886),d=e(30256),m=e(7392),p=e(98008),h=[],w=o(h.sort),k=o(h.push),v=l((function(){h.sort(void 0)})),C=l((function(){h.sort(null)})),_=f("sort"),W=!l((function(){if(m)return m<70;if(!(g&&g>3)){if(d)return!0;if(p)return p<603;var t,n,e,r,o="";for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)h.push({k:n+r,v:e})}for(h.sort((function(t,n){return n.v-t.v})),r=0;r<h.length;r++)n=h[r].k.charAt(0),o.charAt(o.length-1)!==n&&(o+=n);return"DGBEFHACIJK"!==o}})),y=v||!C||!_||!W,L=function(t){return function(n,e){return void 0===e?-1:void 0===n?1:void 0!==t?+t(n,e)||0:c(n)>c(e)?1:-1}};r({target:"Array",proto:!0,forced:y},{sort:function(t){void 0!==t&&i(t);var n=u(this);if(W)return void 0===t?w(n):w(n,t);var e,r,o=[],c=a(n);for(r=0;r<c;r++)r in n&&k(o,n[r]);s(o,L(t)),e=o.length,r=0;while(r<e)n[r]=o[r++];while(r<c)delete n[r++];return n}})},37414:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return m}});var r=e(66252),o=e(3577),i=(0,r._)("span",{class:"ivu-pl-8"},"前端日志",-1),u=(0,r.Uk)("查看");function a(t,n,e,a,c,l){var s=(0,r.up)("Avatar"),f=(0,r.up)("Button"),g=(0,r.up)("Tooltip"),d=(0,r.up)("Tag"),m=(0,r.up)("Table"),p=(0,r.up)("Page"),h=(0,r.up)("Card");return(0,r.wg)(),(0,r.j4)(h,{shadow:""},{title:(0,r.w5)((function(){return[(0,r.Wm)(s,{icon:"md-locate",size:"small",style:{color:"#2f54eb",background:"#f0f5ff"}}),i]})),extra:(0,r.w5)((function(){return[(0,r.Wm)(g,{transfer:"",content:"导出日志",placement:"top"},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{type:"dashed",icon:"ios-cloud-download-outline",onClick:l.exportLog,style:{"margin-right":"10px"}},null,8,["onClick"])]})),_:1}),(0,r.Wm)(g,{transfer:"",content:"清空日志",placement:"top"},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{type:"dashed",icon:"md-trash",onClick:t.cleanLog},null,8,["onClick"])]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r._)("div",{class:(0,o.C_)("".concat(t.$config.cssPrefix,"table-no-border"))},[(0,r.Wm)(m,{ref:"table",columns:c.columns,data:c.tableData,onOnSortChange:l.changeSort},{type:(0,r.w5)((function(t){var n=t.row;return[(0,r.Wm)(d,{color:"error"===n.type?"red":"blue"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n.type),1)]})),_:2},1032,["color"])]})),page:(0,r.w5)((function(t){var n=t.row;return[(0,r.Uk)((0,o.zw)(n.meta.url),1)]})),request:(0,r.w5)((function(t){var n=t.row;return[(0,r.Uk)((0,o.zw)(n.meta.apiURL),1)]})),more:(0,r.w5)((function(t){var n=t.row;return[(0,r.Wm)(f,{size:"small",ghost:"",type:"primary",onClick:function(t){return l.viewLog(n)}},{default:(0,r.w5)((function(){return[u]})),_:2},1032,["onClick"])]})),_:1},8,["columns","data","onOnSortChange"]),(0,r.Wm)(p,{"show-total":"","show-sizer":"","show-elevator":"",class:"ivu-text-center",total:l.logList.length,onOnChange:l.changePage,onOnPageSizeChange:l.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])],2)]})),_:1})}var c=e(95082),l=(e(2707),e(21249),e(47042),e(33907)),s=e(28762),f={name:"AlarmLog",data:function(){var t=this;return{columns:[{title:"序号",align:"center",width:65,render:function(n,e){e.row,e.col;var r=e.index;return n("span",(t.currentPage-1)*t.pageSize+r+1)}},{title:"时间",key:"time",width:180,sortable:!0},{title:"类型",key:"type",width:100,slot:"type"},{title:"信息",key:"message"},{title:"触发页面",slot:"page"},{title:"请求地址",slot:"request"},{title:"详细信息",align:"center",width:100,slot:"more"}],tableData:[],currentPage:1,pageSize:10,timeOrder:"desc"}},computed:{logList:function(){return this.$store.state.log.logList}},watch:{logList:function(){this.changePage(this.currentPage)}},created:function(){this.changePage()},methods:(0,c.Z)((0,c.Z)({},(0,l.OI)([s.KM])),{},{exportLog:function(){this.logList.length?this.$refs.table.exportCsv({filename:"错误日志.csv"}):this.$Message.info("没有日志或异常")},viewLog:function(t){this.$Message.info("按F12打开控制台查看完整日志"),this.$console.capsule(this.$config.titleSuffix,"完整日志内容"),console.group("完整日志"),console.log("message: ",t.message),console.log("sources: ",t.sources),console.log("time: ",t.time),console.log("type: ",t.type),console.log("meta: ",t.meta),console.groupEnd()},changePage:function(t){var n=this;this.currentPage=t||1;var e=(this.currentPage-1)*this.pageSize,r=this.logList.map((function(t){return(0,c.Z)((0,c.Z)({},t),{},{timestamp:new Date(t.time)})})).sort((function(t,e){return"asc"===n.timeOrder?t.timestamp-e.timestamp:e.timestamp-t.timestamp}));this.tableData=r.slice(e,e+this.pageSize)},changePageSize:function(t){this.pageSize=t,this.changePage(this.currentPage)},changeSort:function(t){this.timeOrder=t.order,this.changePage(this.currentPage)}})},g=e(83744);const d=(0,g.Z)(f,[["render",a]]);var m=d},10018:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return m}});var r=e(66252),o=e(3577),i=(0,r.Uk)("点击测试触发程序错误"),u=(0,r.Uk)("测试read properties of undefined 错误"),a=(0,r.Uk)("点击测试触发axios接口请求错误"),c=(0,r.Uk)(" axios接口请求是请求easy-mock的一个不存在接口，所以服务端会报404错误，错误收集机制会收集这个错误，测试的时候有一定网络延迟，所以点击按钮之后稍等一会才会收集到错误。 ");function l(t,n,e,l,s,f){var g=(0,r.up)("Card"),d=(0,r.up)("Button"),m=(0,r.up)("Col"),p=(0,r.up)("Row");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(g,{shadow:""},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(t.$config.titleSuffix)+" 会自动将你程序中的错误收集起来，你可以将错误日志发给后端保存起来。 在开发环境下，你程序中的错误都会被收集起来，这样不利于排查错误，可以将'src/config/index.js'的'catchErrorLog'设为false。 如果只是想收集错误日志，不希望登录用户看到错误日志，可以关闭查看日志的入口，只需将'src/config/index.js'的'showLog'设为false。 ",1)]})),_:1}),(0,r.Wm)(g,{shadow:"",class:"ivu-mt"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{class:"ivu-mt",gutter:24},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,{span:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{long:"",onClick:f.handleClick},{default:(0,r.w5)((function(){return[i]})),_:1},8,["onClick"]),(0,r.Wm)(d,{long:"",onClick:f.handleClick2,class:"ivu-mt"},{default:(0,r.w5)((function(){return[u]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),(0,r.Wm)(p,{class:"ivu-mt",gutter:24},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,{span:"6"},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{long:"",onClick:f.handleAxiosClick},{default:(0,r.w5)((function(){return[a]})),_:1},8,["onClick"])]})),_:1}),(0,r.Wm)(m,{span:"18"},{default:(0,r.w5)((function(){return[c]})),_:1})]})),_:1})]})),_:1})])}var s=e(60445),f={name:"CaptureLog",methods:{handleClick:function(){console.log(admin)},handleClick2:function(){var t=t.account;console.log(t)},handleAxiosClick:function(){(0,s.c)()}}},g=e(83744);const d=(0,g.Z)(f,[["render",l],["__scopeId","data-v-384c438f"]]);var m=d},8846:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return y}});var r=e(66252),o=(0,r.Uk)(" 用法说明 "),i=(0,r.Uk)("打开控制台，点击不同的按钮，可显示不同的日志打印效果。"),u=(0,r.Uk)("胶囊型"),a=(0,r.Uk)("胶囊型（default）"),c=(0,r.Uk)("胶囊型（primary）"),l=(0,r.Uk)("胶囊型（success）"),s=(0,r.Uk)("胶囊型（warning）"),f=(0,r.Uk)("胶囊型（error）"),g=(0,r.Uk)("普通型"),d=(0,r.Uk)("普通型（default）"),m=(0,r.Uk)("普通型（primary）"),p=(0,r.Uk)("普通型（success）"),h=(0,r.Uk)("普通型（warning）"),w=(0,r.Uk)("普通型（error）");function k(t,n,e,k,v,C){var _=(0,r.up)("Alert"),W=(0,r.up)("Divider"),y=(0,r.up)("Button"),L=(0,r.up)("Col"),x=(0,r.up)("Row"),U=(0,r.up)("Card"),P=(0,r.up)("PageView");return(0,r.wg)(),(0,r.j4)(P,{content:v.content},{default:(0,r.w5)((function(){return[(0,r.Wm)(U,{shadow:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{type:"info","show-icon":""},{desc:(0,r.w5)((function(){return[i]})),default:(0,r.w5)((function(){return[o]})),_:1}),(0,r.Wm)(x,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(L,{sm:24,md:24,xl:24},{default:(0,r.w5)((function(){return[(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[u]})),_:1}),(0,r.Wm)(y,{onClick:n[0]||(n[0]=function(t){return C.capsuleLog("default")})},{default:(0,r.w5)((function(){return[a]})),_:1}),(0,r.Wm)(y,{type:"primary",onClick:n[1]||(n[1]=function(t){return C.capsuleLog("primary")})},{default:(0,r.w5)((function(){return[c]})),_:1}),(0,r.Wm)(y,{type:"success",onClick:n[2]||(n[2]=function(t){return C.capsuleLog("success")})},{default:(0,r.w5)((function(){return[l]})),_:1}),(0,r.Wm)(y,{type:"warning",onClick:n[3]||(n[3]=function(t){return C.capsuleLog("warning")})},{default:(0,r.w5)((function(){return[s]})),_:1}),(0,r.Wm)(y,{type:"error",onClick:n[4]||(n[4]=function(t){return C.capsuleLog("error")})},{default:(0,r.w5)((function(){return[f]})),_:1}),(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[g]})),_:1}),(0,r.Wm)(y,{onClick:n[5]||(n[5]=function(t){return C.commonLog("default")})},{default:(0,r.w5)((function(){return[d]})),_:1}),(0,r.Wm)(y,{type:"primary",onClick:n[6]||(n[6]=function(t){return C.commonLog("primary")})},{default:(0,r.w5)((function(){return[m]})),_:1}),(0,r.Wm)(y,{type:"success",onClick:n[7]||(n[7]=function(t){return C.commonLog("success")})},{default:(0,r.w5)((function(){return[p]})),_:1}),(0,r.Wm)(y,{type:"warning",onClick:n[8]||(n[8]=function(t){return C.commonLog("warning")})},{default:(0,r.w5)((function(){return[h]})),_:1}),(0,r.Wm)(y,{type:"error",onClick:n[9]||(n[9]=function(t){return C.commonLog("error")})},{default:(0,r.w5)((function(){return[w]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["content"])}var v=e(6419),C={name:"ConsoleLog",components:{PageView:v.B4},data:function(){return{content:"使用内置 $console 插件，可以在控制台打印各种日志。"}},methods:{capsuleLog:function(t){this.$Message.info("请按F12打开控制台查看"),this.$console.capsule(this.$config.titleSuffix,t,t)},commonLog:function(t){this.$Message.info("请按F12打开控制台查看"),this.$console[t](this.$config.titleSuffix,t)}}},_=e(83744);const W=(0,_.Z)(C,[["render",k],["__scopeId","data-v-3d9b6b45"]]);var y=W}}]);
//# sourceMappingURL=tools-legacy.7cc87e12.js.map