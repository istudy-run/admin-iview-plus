"use strict";(self["webpackChunkiview_admin_plus"]=self["webpackChunkiview_admin_plus"]||[]).push([[895],{37414:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var a=o(66252),n=o(3577);const l=(0,a._)("span",{class:"ivu-pl-8"},"前端日志",-1),s=(0,a.Uk)("查看");function i(e,t,o,i,c,r){const u=(0,a.up)("Avatar"),g=(0,a.up)("Button"),m=(0,a.up)("Tooltip"),d=(0,a.up)("Tag"),p=(0,a.up)("Table"),f=(0,a.up)("Page"),w=(0,a.up)("Card");return(0,a.wg)(),(0,a.j4)(w,{shadow:""},{title:(0,a.w5)((()=>[(0,a.Wm)(u,{icon:"md-locate",size:"small",style:{color:"#2f54eb",background:"#f0f5ff"}}),l])),extra:(0,a.w5)((()=>[(0,a.Wm)(m,{transfer:"",content:"导出日志",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"dashed",icon:"ios-cloud-download-outline",onClick:r.exportLog,style:{"margin-right":"10px"}},null,8,["onClick"])])),_:1}),(0,a.Wm)(m,{transfer:"",content:"清空日志",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"dashed",icon:"md-trash",onClick:e.cleanLog},null,8,["onClick"])])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,n.C_)(`${e.$config.cssPrefix}table-no-border`)},[(0,a.Wm)(p,{ref:"table",columns:c.columns,data:c.tableData,onOnSortChange:r.changeSort},{type:(0,a.w5)((({row:e})=>[(0,a.Wm)(d,{color:"error"===e.type?"red":"blue"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.type),1)])),_:2},1032,["color"])])),page:(0,a.w5)((({row:e})=>[(0,a.Uk)((0,n.zw)(e.meta.url),1)])),request:(0,a.w5)((({row:e})=>[(0,a.Uk)((0,n.zw)(e.meta.apiURL),1)])),more:(0,a.w5)((({row:e})=>[(0,a.Wm)(g,{size:"small",ghost:"",type:"primary",onClick:t=>r.viewLog(e)},{default:(0,a.w5)((()=>[s])),_:2},1032,["onClick"])])),_:1},8,["columns","data","onOnSortChange"]),(0,a.Wm)(f,{"show-total":"","show-sizer":"","show-elevator":"",class:"ivu-text-center",total:r.logList.length,onOnChange:r.changePage,onOnPageSizeChange:r.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])],2)])),_:1})}var c=o(33907),r=o(28762),u={name:"AlarmLog",data(){return{columns:[{title:"序号",align:"center",width:65,render:(e,{row:t,col:o,index:a})=>e("span",(this.currentPage-1)*this.pageSize+a+1)},{title:"时间",key:"time",width:180,sortable:!0},{title:"类型",key:"type",width:100,slot:"type"},{title:"信息",key:"message"},{title:"触发页面",slot:"page"},{title:"请求地址",slot:"request"},{title:"详细信息",align:"center",width:100,slot:"more"}],tableData:[],currentPage:1,pageSize:10,timeOrder:"desc"}},computed:{logList(){return this.$store.state.log.logList}},watch:{logList(){this.changePage(this.currentPage)}},created(){this.changePage()},methods:{...(0,c.OI)([r.KM]),exportLog(){this.logList.length?this.$refs.table.exportCsv({filename:"错误日志.csv"}):this.$Message.info("没有日志或异常")},viewLog(e){this.$Message.info("按F12打开控制台查看完整日志"),this.$console.capsule(this.$config.titleSuffix,"完整日志内容"),console.group("完整日志"),console.log("message: ",e.message),console.log("sources: ",e.sources),console.log("time: ",e.time),console.log("type: ",e.type),console.log("meta: ",e.meta),console.groupEnd()},changePage(e){this.currentPage=e||1;const t=(this.currentPage-1)*this.pageSize,o=this.logList.map((e=>({...e,timestamp:new Date(e.time)}))).sort(((e,t)=>"asc"===this.timeOrder?e.timestamp-t.timestamp:t.timestamp-e.timestamp));this.tableData=o.slice(t,t+this.pageSize)},changePageSize(e){this.pageSize=e,this.changePage(this.currentPage)},changeSort(e){this.timeOrder=e.order,this.changePage(this.currentPage)}}},g=o(83744);const m=(0,g.Z)(u,[["render",i]]);var d=m},10018:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var a=o(66252),n=o(3577);const l=(0,a.Uk)("点击测试触发程序错误"),s=(0,a.Uk)("测试read properties of undefined 错误"),i=(0,a.Uk)("点击测试触发axios接口请求错误"),c=(0,a.Uk)(" axios接口请求是请求easy-mock的一个不存在接口，所以服务端会报404错误，错误收集机制会收集这个错误，测试的时候有一定网络延迟，所以点击按钮之后稍等一会才会收集到错误。 ");function r(e,t,o,r,u,g){const m=(0,a.up)("Card"),d=(0,a.up)("Button"),p=(0,a.up)("Col"),f=(0,a.up)("Row");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(m,{shadow:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.$config.titleSuffix)+" 会自动将你程序中的错误收集起来，你可以将错误日志发给后端保存起来。 在开发环境下，你程序中的错误都会被收集起来，这样不利于排查错误，可以将'src/config/index.js'的'catchErrorLog'设为false。 如果只是想收集错误日志，不希望登录用户看到错误日志，可以关闭查看日志的入口，只需将'src/config/index.js'的'showLog'设为false。 ",1)])),_:1}),(0,a.Wm)(m,{shadow:"",class:"ivu-mt"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"ivu-mt",gutter:24},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{long:"",onClick:g.handleClick},{default:(0,a.w5)((()=>[l])),_:1},8,["onClick"]),(0,a.Wm)(d,{long:"",onClick:g.handleClick2,class:"ivu-mt"},{default:(0,a.w5)((()=>[s])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.Wm)(f,{class:"ivu-mt",gutter:24},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{long:"",onClick:g.handleAxiosClick},{default:(0,a.w5)((()=>[i])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(p,{span:"18"},{default:(0,a.w5)((()=>[c])),_:1})])),_:1})])),_:1})])}var u=o(60445),g={name:"CaptureLog",methods:{handleClick(){console.log(admin)},handleClick2(){const e=e.account;console.log(e)},handleAxiosClick(){(0,u.c)()}}},m=o(83744);const d=(0,m.Z)(g,[["render",r],["__scopeId","data-v-384c438f"]]);var p=d},8846:function(e,t,o){o.r(t),o.d(t,{default:function(){return L}});var a=o(66252);const n=(0,a.Uk)(" 用法说明 "),l=(0,a.Uk)("打开控制台，点击不同的按钮，可显示不同的日志打印效果。"),s=(0,a.Uk)("胶囊型"),i=(0,a.Uk)("胶囊型（default）"),c=(0,a.Uk)("胶囊型（primary）"),r=(0,a.Uk)("胶囊型（success）"),u=(0,a.Uk)("胶囊型（warning）"),g=(0,a.Uk)("胶囊型（error）"),m=(0,a.Uk)("普通型"),d=(0,a.Uk)("普通型（default）"),p=(0,a.Uk)("普通型（primary）"),f=(0,a.Uk)("普通型（success）"),w=(0,a.Uk)("普通型（warning）"),h=(0,a.Uk)("普通型（error）");function k(e,t,o,k,C,_){const W=(0,a.up)("Alert"),y=(0,a.up)("Divider"),L=(0,a.up)("Button"),v=(0,a.up)("Col"),U=(0,a.up)("Row"),P=(0,a.up)("Card"),x=(0,a.up)("PageView");return(0,a.wg)(),(0,a.j4)(x,{content:C.content},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{shadow:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{type:"info","show-icon":""},{desc:(0,a.w5)((()=>[l])),default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{sm:24,md:24,xl:24},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[s])),_:1}),(0,a.Wm)(L,{onClick:t[0]||(t[0]=e=>_.capsuleLog("default"))},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(L,{type:"primary",onClick:t[1]||(t[1]=e=>_.capsuleLog("primary"))},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(L,{type:"success",onClick:t[2]||(t[2]=e=>_.capsuleLog("success"))},{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(L,{type:"warning",onClick:t[3]||(t[3]=e=>_.capsuleLog("warning"))},{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(L,{type:"error",onClick:t[4]||(t[4]=e=>_.capsuleLog("error"))},{default:(0,a.w5)((()=>[g])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(L,{onClick:t[5]||(t[5]=e=>_.commonLog("default"))},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(L,{type:"primary",onClick:t[6]||(t[6]=e=>_.commonLog("primary"))},{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(L,{type:"success",onClick:t[7]||(t[7]=e=>_.commonLog("success"))},{default:(0,a.w5)((()=>[f])),_:1}),(0,a.Wm)(L,{type:"warning",onClick:t[8]||(t[8]=e=>_.commonLog("warning"))},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(L,{type:"error",onClick:t[9]||(t[9]=e=>_.commonLog("error"))},{default:(0,a.w5)((()=>[h])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["content"])}var C=o(79547),_={name:"ConsoleLog",components:{PageView:C.B4},data(){return{content:"使用内置 $console 插件，可以在控制台打印各种日志。"}},methods:{capsuleLog(e){this.$Message.info("请按F12打开控制台查看"),this.$console.capsule(this.$config.titleSuffix,e,e)},commonLog(e){this.$Message.info("请按F12打开控制台查看"),this.$console[e](this.$config.titleSuffix,e)}}},W=o(83744);const y=(0,W.Z)(_,[["render",k],["__scopeId","data-v-3d9b6b45"]]);var L=y}}]);
//# sourceMappingURL=tools.63f90ce2.js.map