"use strict";(self["webpackChunkiview_admin_plus"]=self["webpackChunkiview_admin_plus"]||[]).push([[699],{72705:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});n(69358);var l=n(73396),u=n(87139),o=n(49242),r=(0,l.Uk)("添加菜单 "),a=(0,l.Uk)("添加顶栏菜单"),i=(0,l.Uk)("添加子菜单"),c=(0,l.Uk)("批量删除"),d={class:"ivu-p-8"},m=(0,l.Uk)("编辑"),f=(0,l.Uk)("添加子菜单"),s=(0,l.Uk)("删除"),p={class:"ivu-menu-head"},h={class:"ivu-pl-8"},w=(0,l.Uk)("侧边栏菜单"),W=(0,l.Uk)("当前窗口"),g=(0,l.Uk)("新窗口"),_=(0,l.Uk)(" 分割线 "),k=(0,l.Uk)(" 菜单权限 "),v=(0,l.Uk)("重置"),y=(0,l.Uk)("保存");function b(e,t,n,b,C,U){var V=(0,l.up)("Icon"),M=(0,l.up)("Button"),x=(0,l.up)("DropdownItem"),O=(0,l.up)("DropdownMenu"),R=(0,l.up)("Dropdown"),z=(0,l.up)("Input"),D=(0,l.up)("Tree"),T=(0,l.up)("Card"),S=(0,l.up)("Col"),$=(0,l.up)("Avatar"),I=(0,l.up)("Empty"),P=(0,l.up)("FormItem"),L=(0,l.up)("Radio"),E=(0,l.up)("RadioGroup"),j=(0,l.up)("Tooltip"),q=(0,l.up)("i-switch"),F=(0,l.up)("IconSelect"),Z=(0,l.up)("Space"),A=(0,l.up)("Form"),N=(0,l.up)("Row");return(0,l.wg)(),(0,l.j4)(N,{gutter:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(S,{xs:24,sm:24,md:24,lg:24,xl:10},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{shadow:""},{title:(0,l.w5)((function(){return[(0,l.Wm)(R,null,{list:(0,l.w5)((function(){return[(0,l.Wm)(O,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(x,null,{default:(0,l.w5)((function(){return[a]})),_:1}),(0,l.Wm)(x,{disabled:!Object.keys(C.selectedMenu).length},{default:(0,l.w5)((function(){return[i]})),_:1},8,["disabled"])]})),_:1})]})),default:(0,l.w5)((function(){return[(0,l.Wm)(M,{type:"primary",ghost:"",class:"ivu-mr"},{default:(0,l.w5)((function(){return[r,(0,l.Wm)(V,{type:"ios-arrow-down"})]})),_:1})]})),_:1}),(0,l.Wm)(M,{type:"primary",ghost:"",class:"ivu-mr",icon:"md-list",onClick:U.collapseOrExpand},{default:(0,l.w5)((function(){return[(0,l.Uk)("全部"+(0,u.zw)(C.collapse?"收起":"展开"),1)]})),_:1},8,["onClick"]),(0,l.Wm)(M,{type:"error",ghost:"",class:"ivu-mr",icon:"md-trash",onClick:U.deleteMenus},{default:(0,l.w5)((function(){return[c]})),_:1},8,["onClick"])]})),default:(0,l.w5)((function(){return[(0,l._)("div",d,[(0,l.Wm)(z,{suffix:"ios-search",placeholder:"输入菜单名称搜索"})]),(0,l.Wm)(D,{data:C.treeData,"show-checkbox":"",onOnSelectChange:U.handleSelectMenu,onOnCheckChange:U.handleCheckedMenu,onOnContextmenu:U.handleContextMenu},{contextMenu:(0,l.w5)((function(){return[(0,l.Wm)(x,{onClick:U.menuEdit},{default:(0,l.w5)((function(){return[m]})),_:1},8,["onClick"]),(0,l.Wm)(x,{onClick:U.menuEdit},{default:(0,l.w5)((function(){return[f]})),_:1},8,["onClick"]),(0,l.Wm)(x,{onClick:U.menuDelete,divided:"",style:{color:"#ed4014"}},{default:(0,l.w5)((function(){return[s]})),_:1},8,["onClick"])]})),_:1},8,["data","onOnSelectChange","onOnCheckChange","onOnContextmenu"])]})),_:1})]})),_:1}),(0,l.Wm)(S,{xs:24,sm:24,md:24,lg:24,xl:14},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{shadow:""},{title:(0,l.w5)((function(){return[(0,l._)("div",p,[(0,l.Wm)($,{size:"small",icon:"md-apps",style:{color:"#1890ff",background:"#e6f7ff"}}),(0,l._)("span",h,"编辑菜单"+(0,u.zw)(Object.keys(C.selectedMenu).length?"："+C.selectedMenu.title:""),1)])]})),default:(0,l.w5)((function(){return[(0,l.wy)((0,l.Wm)(I,{desc:"请选择一项菜单编辑"},null,512),[[o.F8,!Object.keys(C.selectedMenu).length]]),Object.keys(C.selectedMenu).length?((0,l.wg)(),(0,l.j4)(A,{key:0,"label-width":100,"label-colon":!0,ref:"form",model:C.form,rules:C.rule},{default:(0,l.w5)((function(){return[(0,l.Wm)(P,{label:"类型"},{default:(0,l.w5)((function(){return[w]})),_:1}),(0,l.Wm)(P,{label:"标题"},{default:(0,l.w5)((function(){return[(0,l.Wm)(z,{modelValue:C.form.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return C.form.title=e}),placeholder:"请输入标题，必填"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(P,{label:"副标题"},{default:(0,l.w5)((function(){return[(0,l.Wm)(z,{modelValue:C.form.subtitle,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.form.subtitle=e}),placeholder:"请输入副标题"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(P,{label:"路径"},{default:(0,l.w5)((function(){return[(0,l.Wm)(z,{modelValue:C.form.path,"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.form.path=e}),placeholder:"请输入路径，必填"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(P,{label:"打开方式"},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{modelValue:C.form.openWay,"onUpdate:modelValue":t[3]||(t[3]=function(e){return C.form.openWay=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{label:"0"},{default:(0,l.w5)((function(){return[W]})),_:1}),(0,l.Wm)(L,{label:"1"},{default:(0,l.w5)((function(){return[g]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)(P,null,{label:(0,l.w5)((function(){return[_,(0,l.Wm)(j,{content:"菜单折叠时是否显示分割线",placement:"top"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{type:"md-help-circle"})]})),_:1})]})),default:(0,l.w5)((function(){return[(0,l.Wm)(q,{modelValue:C.form.divider,"onUpdate:modelValue":t[4]||(t[4]=function(e){return C.form.divider=e}),"true-value":"1","false-value":"0"},{open:(0,l.w5)((function(){return[(0,l.Wm)(V,{type:"md-checkmark"})]})),close:(0,l.w5)((function(){return[(0,l.Wm)(V,{type:"md-close"})]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)(P,{label:"图标"},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{modelValue:C.form.icon,"onUpdate:modelValue":t[5]||(t[5]=function(e){return C.form.icon=e}),placement:"top",clearable:"",placeholder:"请选择图标"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(P,null,{label:(0,l.w5)((function(){return[k,(0,l.Wm)(j,{content:"菜单权限",placement:"top"},{default:(0,l.w5)((function(){return[(0,l.Wm)(V,{type:"md-help-circle"})]})),_:1})]})),default:(0,l.w5)((function(){return[(0,l.Wm)(z,{modelValue:C.form.auth,"onUpdate:modelValue":t[6]||(t[6]=function(e){return C.form.auth=e}),placeholder:"权限，逗号分隔"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(P,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(Z,{size:16},{default:(0,l.w5)((function(){return[(0,l.Wm)(M,{onClick:U.resetMenu},{default:(0,l.w5)((function(){return[v]})),_:1},8,["onClick"]),(0,l.Wm)(M,{type:"primary",onClick:U.resetMenu},{default:(0,l.w5)((function(){return[y]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])):(0,l.kq)("",!0)]})),_:1})]})),_:1})]})),_:1})}var C=n(88478),U=n(66347),V=n(95082),M=(n(70560),n(6203),n(50886),n(20065)),x=n(49027),O=n(54445),R={name:"Menu",components:{IconSelect:x.xG},data:function(){return{form:{title:"",subtitle:"",path:"",openWay:"0",divider:"0",icon:"",auth:""},rule:{},treeData:[],contextData:{},collapse:!1,checkedMenus:[],selectedMenu:{}}},created:function(){this.getTreeData()},computed:(0,V.Z)({},(0,M.rn)({mainMenu:function(e){return e.auth.addRouters}})),methods:{getTreeData:function(){var e=(0,O.IK)(this.mainMenu);this.formatMenus(this.treeData,e)},formatMenus:function(e,t){var n,l=(0,U.Z)(t);try{for(l.s();!(n=l.n()).done;){var u=n.value,o={title:u.meta.title,path:u.path,openWay:"0",divider:"0",icon:u.meta.icon,expand:!!u.children&&this.collapse,contextmenu:!0,checked:!1,children:[]};u.children&&this.formatMenus(o.children,u.children),e.push(o)}}catch(r){l.e(r)}finally{l.f()}},handleSelectMenu:function(e,t){this.selectedMenu=t.selected?t:{},this.form=(0,V.Z)({},this.selectedMenu)},handleCheckedMenu:function(e,t){this.checkedMenus=(0,C.Z)(e)},handleContextMenu:function(e){this.contextData=e},menuEdit:function(){this.$Message.info("编辑了 ".concat(this.contextData.title))},menuDelete:function(){this.$Message.error("删除了 ".concat(this.contextData.title))},collapseOrExpand:function(){this.collapse=!this.collapse,this.treeData=[],this.getTreeData()},deleteMenus:function(){var e=this;this.checkedMenus.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除菜单<strong>".concat(this.checkedMenus.map((function(e){return e.title})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}}):this.$Message.error("您没有勾选菜单")},resetMenu:function(){this.form=(0,V.Z)({},this.selectedMenu)}}},z=n(40089);const D=(0,z.Z)(R,[["render",b],["__scopeId","data-v-2b4e9dff"]]);var T=D},47512:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});n(34284);var l=n(73396),u=n(87139),o=(0,l.Uk)("添加角色"),r=(0,l.Uk)("批量删除"),a={class:"ivu-inline-block ivu-fr"},i=(0,l.Uk)("工具栏"),c=["onClick"],d=["onClick"],m=["onClick"],f={class:"ivu-mt ivu-text-center"},s=(0,l.Uk)(" 是否默认角色 ");function p(e,t,n,p,h,w){var W=this,g=(0,l.up)("Button"),_=(0,l.up)("Tag"),k=(0,l.up)("Divider"),v=(0,l.up)("Table"),y=(0,l.up)("Page"),b=(0,l.up)("Input"),C=(0,l.up)("FormItem"),U=(0,l.up)("Icon"),V=(0,l.up)("Tooltip"),M=(0,l.up)("i-switch"),x=(0,l.up)("Form"),O=(0,l.up)("FormContainer"),R=(0,l.up)("Card");return(0,l.wg)(),(0,l.j4)(R,{shadow:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(g,{type:"primary",icon:"md-add",ghost:"",class:"ivu-mr-8",onClick:w.addRole},{default:(0,l.w5)((function(){return[o]})),_:1},8,["onClick"]),(0,l.Wm)(g,{type:"error",icon:"md-trash",ghost:"",onClick:w.delRoles},{default:(0,l.w5)((function(){return[r]})),_:1},8,["onClick"]),(0,l._)("div",a,[(0,l.Wm)(_,{color:"blue"},{default:(0,l.w5)((function(){return[i]})),_:1})]),(0,l.Wm)(v,{columns:h.columns,data:h.data,loading:h.loading,class:"ivu-mt",onOnSelectionChange:t[0]||(t[0]=function(e){return W.selectedRows=e})},{defaultRole:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(_,{color:"1"===t.defaultRole?"green":"red"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)("1"===t.defaultRole?"是":"否"),1)]})),_:2},1032,["color"])]})),action:(0,l.w5)((function(e){var t=e.row;return[(0,l._)("a",{onClick:function(e){return w.editRole(t)}},"菜单权限",8,c),(0,l.Wm)(k,{type:"vertical"}),(0,l._)("a",{onClick:function(e){return w.editRole(t)}},"编辑",8,d),(0,l.Wm)(k,{type:"vertical"}),(0,l._)("a",{onClick:function(e){return w.removeRole(t)}},"删除",8,m)]})),_:1},8,["columns","data","loading"]),(0,l._)("div",f,[(0,l.Wm)(y,{"show-sizer":"","show-elevator":"",total:h.total,onOnChange:w.changePage,onOnPageSizeChange:w.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])]),(0,l.Wm)(O,{width:520,modelValue:h.visible,title:h.title,onOnVisibleChange:t[4]||(t[4]=function(e){return h.visible=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(x,{ref:"form",model:h.form,rules:h.rule,"label-colon":!0,"label-position":"top"},{default:(0,l.w5)((function(){return[(0,l.Wm)(C,{label:"角色名称"},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{modelValue:h.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.form.name=e}),placeholder:"请输入角色名称，必填"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(C,{label:"说明"},{default:(0,l.w5)((function(){return[(0,l.Wm)(b,{modelValue:h.form.desc,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.form.desc=e}),placeholder:"请输入说明"},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(C,null,{label:(0,l.w5)((function(){return[s,(0,l.Wm)(V,{content:"开启后，新注册用户默认拥有该角色",placement:"top"},{default:(0,l.w5)((function(){return[(0,l.Wm)(U,{type:"md-help-circle"})]})),_:1})]})),default:(0,l.w5)((function(){return[(0,l.Wm)(M,{modelValue:h.form.defaultRole,"onUpdate:modelValue":t[3]||(t[3]=function(e){return h.form.defaultRole=e}),"true-value":"1","false-value":"0"},{open:(0,l.w5)((function(){return[(0,l.Wm)(U,{type:"md-checkmark"})]})),close:(0,l.w5)((function(){return[(0,l.Wm)(U,{type:"md-close"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","title"])]})),_:1})}n(6203),n(50886);var h={name:"Role",data:function(){return{query:{pageNo:1,pageSize:10},loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"角色名称",key:"name",sortable:!0,minWidth:140},{title:"说明",key:"desc",minWidth:120},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"更新时间",key:"updateTime",sortable:!0,minWidth:180},{title:"是否默认角色",key:"defaultRole",slot:"defaultRole",minWidth:140},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:200}],data:[],total:0,form:{},rule:{},title:"",visible:!1,selectedRows:[]}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var e=this;setTimeout((function(){e.data=[{id:2000000001,name:"ROLE_USER",desc:"普通用户",createTime:"2020-01-01 12:01:25",updateTime:"2020-01-02 13:10:33",defaultRole:"1"},{id:2000000002,name:"ROLE_OP",desc:"运营用户",createTime:"2020-01-02 08:12:43",updateTime:"2020-01-04 22:12:28",defaultRole:"0"},{id:2000000003,name:"ROLE_ADMIN",desc:"管理员用户",createTime:"2020-01-03 12:44:19",updateTime:"2020-01-06 14:02:22",defaultRole:"0"}]}),500)},addRole:function(){this.form={defaultRole:"0"},this.title="添加角色",this.visible=!0},delRoles:function(){var e=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<br/><strong>".concat(this.selectedRows.map((function(e){return e.name})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}}):this.$Message.error("您没有选择角色")},editRole:function(e){this.form=e,this.title="编辑角色",this.visible=!0},removeRole:function(e){var t=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除角色<strong>".concat(e.name,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}})},changePage:function(e){this.query.pageNo=e,this.getRoleList()},changePageSize:function(e){this.query.pageSize=e,this.getRoleList()}}},w=n(40089);const W=(0,w.Z)(h,[["render",p]]);var g=W},10530:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var l=n(73396),u=n(87139),o=(0,l.Uk)("男"),r=(0,l.Uk)("女"),a=(0,l.Uk)("正常"),i=(0,l.Uk)("冻结"),c=(0,l.Uk)("关闭"),d=(0,l.Uk)("查询"),m=(0,l.Uk)("重置"),f=(0,l.Uk)("添加用户"),s=(0,l.Uk)("批量删除"),p={class:"ivu-inline-block ivu-fr"},h=(0,l.Uk)("工具栏"),w=["onClick"],W=["onClick"],g=(0,l.Uk)("删除"),_=[g],k={class:"ivu-mt ivu-text-center"},v=(0,l.Uk)("修改 "),y={class:"ivu-mt-8"},b={class:"ivu-mt-8"},C=(0,l.Uk)("男"),U=(0,l.Uk)("女"),V=(0,l.Uk)("正常"),M=(0,l.Uk)("冻结"),x=(0,l.Uk)("关闭"),O=(0,l.Uk)(" ROLE_USER "),R=(0,l._)("span",{style:{color:"#c5c8ce"}},"普通用户",-1),z=(0,l.Uk)(" ROLE_ADMIN "),D=(0,l._)("span",{style:{color:"#c5c8ce"}},"管理员",-1),T=(0,l.Uk)(" ROLE_OP "),S=(0,l._)("span",{style:{color:"#c5c8ce"}},"运营",-1);function $(e,t,n,g,$,I){var P=this,L=(0,l.up)("Input"),E=(0,l.up)("FormItem"),j=(0,l.up)("Col"),q=(0,l.up)("Option"),F=(0,l.up)("Select"),Z=(0,l.up)("DatePicker"),A=(0,l.up)("Button"),N=(0,l.up)("Icon"),B=(0,l.up)("Space"),G=(0,l.up)("Row"),H=(0,l.up)("Form"),Y=(0,l.up)("Tag"),K=(0,l.up)("Avatar"),Q=(0,l.up)("Badge"),J=(0,l.up)("Divider"),X=(0,l.up)("Table"),ee=(0,l.up)("Page"),te=(0,l.up)("Upload"),ne=(0,l.up)("Region"),le=(0,l.up)("FormContainer"),ue=(0,l.up)("Card"),oe=(0,l.Q2)("color");return(0,l.wg)(),(0,l.j4)(ue,{shadow:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(H,{"label-width":100,"label-colon":!0},{default:(0,l.w5)((function(){return[(0,l.Wm)(G,{gutter:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"用户名"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{placeholder:"请输入用户名"})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"手机号"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{placeholder:"请输入手机号"})]})),_:1})]})),_:1}),$.advanced?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"邮箱"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{placeholder:"请输入邮箱"})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"性别"},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{placeholder:"请选择性别",clearable:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(q,{value:"1"},{default:(0,l.w5)((function(){return[o]})),_:1}),(0,l.Wm)(q,{value:"2"},{default:(0,l.w5)((function(){return[r]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"登录账号"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{placeholder:"请输入登录账号"})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"用户ID"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{placeholder:"请输入用户ID"})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"状态",clearable:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{placeholder:"请选择状态"},{default:(0,l.w5)((function(){return[(0,l.Wm)(q,{value:"1"},{default:(0,l.w5)((function(){return[a]})),_:1}),(0,l.Wm)(q,{value:"2"},{default:(0,l.w5)((function(){return[i]})),_:1}),(0,l.Wm)(q,{value:"3"},{default:(0,l.w5)((function(){return[c]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"创建时间"},{default:(0,l.w5)((function(){return[(0,l.Wm)(Z,{style:{width:"100%"},placeholder:"请选创建时间"})]})),_:1})]})),_:1})],64)):(0,l.kq)("",!0),(0,l.Wm)(j,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{"label-width":100},{default:(0,l.w5)((function(){return[(0,l.Wm)(B,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(A,{icon:"md-search",type:"primary",onClick:I.getUserList,loading:$.loading},{default:(0,l.w5)((function(){return[d]})),_:1},8,["onClick","loading"]),(0,l.Wm)(A,{icon:"md-refresh",onClick:I.getUserList},{default:(0,l.w5)((function(){return[m]})),_:1},8,["onClick"]),(0,l._)("a",{onClick:t[0]||(t[0]=function(){return I.toggleAdvanced&&I.toggleAdvanced.apply(I,arguments)})},[(0,l.Uk)((0,u.zw)($.advanced?"收起":"展开")+" ",1),(0,l.Wm)(N,{type:$.advanced?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l._)("div",null,[(0,l.Wm)(B,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(A,{type:"primary",icon:"md-add",ghost:"",onClick:I.addUser},{default:(0,l.w5)((function(){return[f]})),_:1},8,["onClick"]),(0,l.Wm)(A,{type:"error",icon:"md-trash",ghost:"",onClick:I.delUsers},{default:(0,l.w5)((function(){return[s]})),_:1},8,["onClick"])]})),_:1}),(0,l._)("div",p,[(0,l.Wm)(Y,{color:"blue"},{default:(0,l.w5)((function(){return[h]})),_:1})]),(0,l.Wm)(X,{columns:$.columns,data:$.data,loading:$.loading,class:"ivu-mt",onOnSelectionChange:t[1]||(t[1]=function(e){return P.selectedRows=e}),onOnCellClick:I.cellClick},{username:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(K,{shape:"square",src:t.avatar,size:"small"},null,8,["src"]),(0,l.Uk)(" "+(0,u.zw)(t.username),1)]})),sex:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(Y,{color:"1"===t.sex?"blue":"red"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,u.zw)("1"===t.sex?"男":"女"),1)]})),_:2},1032,["color"])]})),status:(0,l.w5)((function(e){var t=e.row;return[(0,l.Wm)(Q,{status:"1"===t.status?"success":"error",text:"1"===t.status?"正常":"冻结"},null,8,["status","text"])]})),action:(0,l.w5)((function(e){var t=e.row;return[(0,l._)("a",{onClick:function(e){return I.editUser(t)}},"编辑",8,w),(0,l.Wm)(J,{type:"vertical"}),(0,l.wy)((0,l._)("a",{onClick:function(e){return I.removeUser(t)}},_,8,W),[[oe,"red"]])]})),_:1},8,["columns","data","loading","onOnCellClick"]),(0,l._)("div",k,[(0,l.Wm)(ee,{"show-sizer":"","show-elevator":"",total:$.total,onOnChange:I.changePage,onOnPageSizeChange:I.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])])]),(0,l.Wm)(le,{width:560,modelValue:$.visible,title:$.title,onOnVisibleChange:t[12]||(t[12]=function(e){return $.visible=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)(H,{ref:"form",model:$.form,rules:$.rule,"label-colon":!0,"label-position":"top"},{default:(0,l.w5)((function(){return[(0,l.Wm)(G,{gutter:32},{default:(0,l.w5)((function(){return[$.form&&$.form.id?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(j,{span:10,class:"ivu-text-center"},{default:(0,l.w5)((function(){return[(0,l.Wm)(K,{src:$.form.avatar,size:64,shape:"square"},null,8,["src"]),$.readOnly?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(te,{key:0,action:"//jsonplaceholder.typicode.com/posts/",class:"ivu-mt-8"},{default:(0,l.w5)((function(){return[(0,l.Wm)(A,{type:"text"},{default:(0,l.w5)((function(){return[v,(0,l.Wm)(N,{type:"ios-create-outline"})]})),_:1})]})),_:1}))]})),_:1}),(0,l.Wm)(j,{span:14},{default:(0,l.w5)((function(){return[(0,l._)("div",null,"用户ID："+(0,u.zw)($.form.id),1),(0,l._)("div",y,"登录账号："+(0,u.zw)($.form.account),1),(0,l._)("div",b,"创建时间："+(0,u.zw)($.form.createTime),1)]})),_:1}),(0,l.Wm)(J)],64)):(0,l.kq)("",!0),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"用户名"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{modelValue:$.form.username,"onUpdate:modelValue":t[2]||(t[2]=function(e){return $.form.username=e}),readonly:$.readOnly,placeholder:"请输入用户名，必填"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"手机号"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{modelValue:$.form.phone,"onUpdate:modelValue":t[3]||(t[3]=function(e){return $.form.phone=e}),readonly:$.readOnly,placeholder:"请输入手机号，必填"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"邮箱"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{modelValue:$.form.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return $.form.email=e}),readonly:$.readOnly,placeholder:"请输入邮箱，必填"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"性别",clearable:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{modelValue:$.form.sex,"onUpdate:modelValue":t[5]||(t[5]=function(e){return $.form.sex=e}),readonly:$.readOnly,placeholder:"请选择性别，必填"},{default:(0,l.w5)((function(){return[(0,l.Wm)(q,{value:"1"},{default:(0,l.w5)((function(){return[C]})),_:1}),(0,l.Wm)(q,{value:"2"},{default:(0,l.w5)((function(){return[U]})),_:1})]})),_:1},8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"状态",clearable:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{modelValue:$.form.status,"onUpdate:modelValue":t[6]||(t[6]=function(e){return $.form.status=e}),readonly:$.readOnly,placeholder:"请选择状态"},{default:(0,l.w5)((function(){return[(0,l.Wm)(q,{value:"1"},{default:(0,l.w5)((function(){return[V]})),_:1}),(0,l.Wm)(q,{value:"2"},{default:(0,l.w5)((function(){return[M]})),_:1}),(0,l.Wm)(q,{value:"3"},{default:(0,l.w5)((function(){return[x]})),_:1})]})),_:1},8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"角色分配"},{default:(0,l.w5)((function(){return[(0,l.Wm)(F,{modelValue:$.form.role,"onUpdate:modelValue":t[7]||(t[7]=function(e){return $.form.role=e}),readonly:$.readOnly,placeholder:"请选择角色",multiple:"","max-tag-count":1},{default:(0,l.w5)((function(){return[(0,l.Wm)(q,{value:"1"},{default:(0,l.w5)((function(){return[O,R]})),_:1}),(0,l.Wm)(q,{value:"2"},{default:(0,l.w5)((function(){return[z,D]})),_:1}),(0,l.Wm)(q,{value:"3"},{default:(0,l.w5)((function(){return[T,S]})),_:1})]})),_:1},8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"登录账号"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{modelValue:$.form.account,"onUpdate:modelValue":t[8]||(t[8]=function(e){return $.form.account=e}),readonly:$.readOnly,placeholder:"请输入登录账号，必填"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(J),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"地区"},{default:(0,l.w5)((function(){return[(0,l.Wm)(ne,{modelValue:$.form.area,"onUpdate:modelValue":t[9]||(t[9]=function(e){return $.form.area=e}),readonly:$.readOnly,placeholder:"请选择地区"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:12},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"生日"},{default:(0,l.w5)((function(){return[(0,l.Wm)(Z,{modelValue:$.form.birthday,"onUpdate:modelValue":t[10]||(t[10]=function(e){return $.form.birthday=e}),readonly:$.readOnly,placeholder:"请选择日期"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1}),(0,l.Wm)(j,{span:24},{default:(0,l.w5)((function(){return[(0,l.Wm)(E,{label:"个人介绍"},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{modelValue:$.form.desc,"onUpdate:modelValue":t[11]||(t[11]=function(e){return $.form.desc=e}),readonly:$.readOnly,type:"textarea",rows:3,placeholder:"请输入个人介绍"},null,8,["modelValue","readonly"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","title"])]})),_:1})}var I=n(95082),P=(n(6203),n(50886),n(49027)),L=n(33564),E={name:"User",components:{Region:P.yp},data:function(){return{query:{pageNo:1,pageSize:10},advanced:!1,loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"用户名",key:"username",slot:"username",sortable:!0,minWidth:140},{title:"登录账号",key:"account",sortable:!0,minWidth:120},{title:"手机号",key:"phone",minWidth:140},{title:"邮箱",key:"email",minWidth:180},{title:"性别",key:"sex",slot:"sex",minWidth:100},{title:"状态",key:"status",slot:"status",minWidth:100},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:120}],data:[],total:0,visible:!1,selectedRows:[],form:{},rule:{},title:"",readOnly:!1}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=this;this.loading=!0;var t=(0,I.Z)({},this.query);(0,L.RB)(t).then((function(t){e.data=t.data,e.total=t.totalCount,e.loading=!1}))},changePage:function(e){this.query.pageNo=e,this.getUserList()},changePageSize:function(e){this.query.pageSize=e,this.getUserList()},editUser:function(e){this.form=e,this.title="编辑用户",this.readOnly=!1,this.visible=!0},removeUser:function(e){var t=this;this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(e.username,"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){t.$Message.info("点击了取消")}})},toggleAdvanced:function(){this.advanced=!this.advanced},addUser:function(){this.form={},this.title="添加用户",this.readOnly=!1,this.visible=!0},delUsers:function(){var e=this;this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:"您确认要删除用户<strong>".concat(this.selectedRows.map((function(e){return e.username})).join(","),"</strong>？"),loading:!0,onOk:function(){setTimeout((function(){e.$Modal.remove(),e.$Message.error("抱歉，您没有该权限")}),800)},onCancel:function(){e.$Message.info("点击了取消")}}):this.$Message.error("您没有选择用户")},cellClick:function(e,t,n,l){n&&(this.form=e,this.title="用户信息",this.readOnly=!0,this.visible=!0)}}},j=n(40089);const q=(0,j.Z)(E,[["render",$]]);var F=q}}]);