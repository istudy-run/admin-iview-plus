(self["webpackChunkiview_admin_plus"]=self["webpackChunkiview_admin_plus"]||[]).push([[535],{26050:function(e,t,n){n(69600);var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=r},58258:function(e,t,n){n(9653),n(41539),n(39714),n(69600),n(74916),n(15306),function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},88566:function(e,t,n){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}n(47042),
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},29564:function(e,t,n){n(47042),n(39575),n(41539),n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(39714),n(21703),function(){var t=n(58258),r=n(26050).utf8,o=n(88566),i=n(26050).bin,a=function e(n,a){n.constructor==String?n=a&&"binary"===a.encoding?i.stringToBytes(n):r.stringToBytes(n):o(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var s=t.bytesToWords(n),u=8*n.length,c=1732584193,l=-271733879,d=-1732584194,f=271733878,m=0;m<s.length;m++)s[m]=16711935&(s[m]<<8|s[m]>>>24)|4278255360&(s[m]<<24|s[m]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=e._ff,h=e._gg,g=e._hh,v=e._ii;for(m=0;m<s.length;m+=16){var w=c,A=l,C=d,y=f;c=p(c,l,d,f,s[m+0],7,-680876936),f=p(f,c,l,d,s[m+1],12,-389564586),d=p(d,f,c,l,s[m+2],17,606105819),l=p(l,d,f,c,s[m+3],22,-1044525330),c=p(c,l,d,f,s[m+4],7,-176418897),f=p(f,c,l,d,s[m+5],12,1200080426),d=p(d,f,c,l,s[m+6],17,-1473231341),l=p(l,d,f,c,s[m+7],22,-45705983),c=p(c,l,d,f,s[m+8],7,1770035416),f=p(f,c,l,d,s[m+9],12,-1958414417),d=p(d,f,c,l,s[m+10],17,-42063),l=p(l,d,f,c,s[m+11],22,-1990404162),c=p(c,l,d,f,s[m+12],7,1804603682),f=p(f,c,l,d,s[m+13],12,-40341101),d=p(d,f,c,l,s[m+14],17,-1502002290),l=p(l,d,f,c,s[m+15],22,1236535329),c=h(c,l,d,f,s[m+1],5,-165796510),f=h(f,c,l,d,s[m+6],9,-1069501632),d=h(d,f,c,l,s[m+11],14,643717713),l=h(l,d,f,c,s[m+0],20,-373897302),c=h(c,l,d,f,s[m+5],5,-701558691),f=h(f,c,l,d,s[m+10],9,38016083),d=h(d,f,c,l,s[m+15],14,-660478335),l=h(l,d,f,c,s[m+4],20,-405537848),c=h(c,l,d,f,s[m+9],5,568446438),f=h(f,c,l,d,s[m+14],9,-1019803690),d=h(d,f,c,l,s[m+3],14,-187363961),l=h(l,d,f,c,s[m+8],20,1163531501),c=h(c,l,d,f,s[m+13],5,-1444681467),f=h(f,c,l,d,s[m+2],9,-51403784),d=h(d,f,c,l,s[m+7],14,1735328473),l=h(l,d,f,c,s[m+12],20,-1926607734),c=g(c,l,d,f,s[m+5],4,-378558),f=g(f,c,l,d,s[m+8],11,-2022574463),d=g(d,f,c,l,s[m+11],16,1839030562),l=g(l,d,f,c,s[m+14],23,-35309556),c=g(c,l,d,f,s[m+1],4,-1530992060),f=g(f,c,l,d,s[m+4],11,1272893353),d=g(d,f,c,l,s[m+7],16,-155497632),l=g(l,d,f,c,s[m+10],23,-1094730640),c=g(c,l,d,f,s[m+13],4,681279174),f=g(f,c,l,d,s[m+0],11,-358537222),d=g(d,f,c,l,s[m+3],16,-722521979),l=g(l,d,f,c,s[m+6],23,76029189),c=g(c,l,d,f,s[m+9],4,-640364487),f=g(f,c,l,d,s[m+12],11,-421815835),d=g(d,f,c,l,s[m+15],16,530742520),l=g(l,d,f,c,s[m+2],23,-995338651),c=v(c,l,d,f,s[m+0],6,-198630844),f=v(f,c,l,d,s[m+7],10,1126891415),d=v(d,f,c,l,s[m+14],15,-1416354905),l=v(l,d,f,c,s[m+5],21,-57434055),c=v(c,l,d,f,s[m+12],6,1700485571),f=v(f,c,l,d,s[m+3],10,-1894986606),d=v(d,f,c,l,s[m+10],15,-1051523),l=v(l,d,f,c,s[m+1],21,-2054922799),c=v(c,l,d,f,s[m+8],6,1873313359),f=v(f,c,l,d,s[m+15],10,-30611744),d=v(d,f,c,l,s[m+6],15,-1560198380),l=v(l,d,f,c,s[m+13],21,1309151649),c=v(c,l,d,f,s[m+4],6,-145523070),f=v(f,c,l,d,s[m+11],10,-1120210379),d=v(d,f,c,l,s[m+2],15,718787259),l=v(l,d,f,c,s[m+9],21,-343485551),c=c+w>>>0,l=l+A>>>0,d=d+C>>>0,f=f+y>>>0}return t.endian([c,l,d,f])};a._ff=function(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._gg=function(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._hh=function(e,t,n,r,o,i,a){var s=e+(t^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._ii=function(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}()},1857:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(73396),o=n(87139),i={class:"ivu-result"},a={key:0,class:"ivu-result-title"},s={key:1,class:"ivu-result-desc"},u={key:2,class:"ivu-result-extra"},c={key:3,class:"ivu-result-actions"};function l(e,t,n,l,d,f){var m=(0,r.up)("Icon");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",{class:(0,o.C_)(["ivu-result-icon",f.iconClasses])},["success"===n.type?((0,r.wg)(),(0,r.j4)(m,{key:0,type:"ios-checkmark"})):(0,r.kq)("",!0),"error"===n.type?((0,r.wg)(),(0,r.j4)(m,{key:1,type:"ios-close"})):(0,r.kq)("",!0),"warning"===n.type?((0,r.wg)(),(0,r.j4)(m,{key:2,type:"ios-information"})):(0,r.kq)("",!0)],2),n.title||e.$slots.title?((0,r.wg)(),(0,r.iD)("div",a,[(0,r.WI)(e.$slots,"title",{},(function(){return[(0,r.Uk)((0,o.zw)(n.title),1)]}))])):(0,r.kq)("",!0),n.desc||e.$slots.desc?((0,r.wg)(),(0,r.iD)("div",s,[(0,r.WI)(e.$slots,"desc",{},(function(){return[(0,r.Uk)((0,o.zw)(n.desc),1)]}))])):(0,r.kq)("",!0),n.extra||e.$slots.extra?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.WI)(e.$slots,"extra",{},(function(){return[(0,r.Uk)((0,o.zw)(n.extra),1)]}))])):(0,r.kq)("",!0),e.$slots.actions?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.WI)(e.$slots,"actions")])):(0,r.kq)("",!0)])}var d=n(13392),f=n(12171),m={name:"Result",components:{Icon:d.Z},props:{type:{validator:function(e){return(0,f.kw)(e,["success","error","warning"])}},title:{type:String},desc:{type:String},extra:{type:String}},computed:{iconClasses:function(){return{"ivu-result-icon-success":"success"===this.type,"ivu-result-icon-error":"error"===this.type,"ivu-result-icon-warning":"warning"===this.type}}}},p=n(40089);const h=(0,p.Z)(m,[["render",l]]);var g=h,v=g},33564:function(e,t,n){"use strict";n.d(t,{s7:function(){return p},JV:function(){return f},qM:function(){return m},RB:function(){return h}});var r=n(38042),o=n(3336),i=n(13087),a=n(62833),s=(n(2707),n(38862),n(74916),n(26699),n(32023),n(41539),n(39714),n(47941),n(92222),n(29564)),u=n.n(s),c="dd05f1c54d63749eda95f9fa6d49v442a",l=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,null,[{key:"sortAsc",value:function(e){var t=new Array,n=0;for(var r in e)t[n]=r,n++;var o=t.sort(),i={};for(var a in o)i[o[a]]=e[o[a]];return i}},{key:"getSign",value:function(e,t){var n=this.parseQueryString(e),r=this.mergeObject(n,t),o=this.sortAsc(r);return u()(JSON.stringify(o)+c).toUpperCase()}},{key:"parseQueryString",value:function(e){var t=/^[^\?]+\?([\w\W]+)$/,n=/([^&=]+)=([\w\W]*?)(&|$|#)/g,r=t.exec(e),o={},i=e.substring(e.lastIndexOf("/")+1);if(i.includes(",")&&(i.includes("?")&&(i=i.substring(0,i.indexOf("?"))),o["x-path-variable"]=decodeURIComponent(i)),r&&r[1]){var a,s=r[1];while(null!=(a=n.exec(s)))this.myIsNaN(a[2])&&(a[2]=a[2].toString()),o[a[1]]=a[2]}return o}},{key:"mergeObject",value:function(e,t){if(t&&Object.keys(t).length>0)for(var n in t)!0===t.hasOwnProperty(n)&&(this.myIsNaN(t[n])&&(t[n]=t[n].toString()),e[n]=t[n]);return e}},{key:"urlEncode",value:function(e,t,n){if(null==e)return"";var r="",i=(0,o.Z)(e);if("string"===i||"number"===i||"boolean"===i)r+="&".concat(t,"=").concat(null==n||n?encodeURIComponent(e):e);else for(var a in e){var s=null==t?a:t+(e instanceof Array?"[".concat(a,"]"):".".concat(a));r+=this.urlEncode(e[a],s,n)}return r}},{key:"getDateTimeToString",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r));var o=e.getHours(),i=e.getMinutes(),a=e.getSeconds(),s=e.getMilliseconds();return o<10&&(o="0".concat(o)),i<10&&(i="0".concat(i)),a<10&&(a="0".concat(a)),s<10&&(a="0".concat(s)),"".concat(t).concat(n).concat(r).concat(o).concat(i).concat(a)}},{key:"myIsNaN",value:function(e){return"number"===typeof e&&!isNaN(e)}}]),e}(),d={user:"/user",role:"/role",service:"/service",userList:"/userList",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function f(e){return(0,r.Z)({url:d.role,method:"get",params:e})}function m(e){return(0,r.Z)({url:d.service,method:"get",params:e})}function p(e,t){var n=l.getSign(e,t),o={"X-Sign":n,"X-TIMESTAMP":l.getDateTimeToString()};return(0,r.Z)({url:e,method:"get",params:t,headers:o})}function h(e){return(0,r.Z)({url:d.userList,method:"get",params:e})}},77427:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(73396),o=n(87139),i=n(49242),a=n(94897),s=n.p+"img/qq.ec7f71ce.svg",u=n.p+"img/wb.edb3b4b2.svg",c=(0,r.Uk)("记住密码"),l=(0,r.Uk)("忘记密码"),d=(0,r.Uk)("登录"),f=(0,r._)("span",null,"其他登录方式",-1),m=(0,r._)("img",{src:a,alt:"微信"},null,-1),p=(0,r._)("img",{src:s,alt:"QQ"},null,-1),h=(0,r._)("img",{src:u,alt:"微博"},null,-1),g=(0,r.Uk)("注册账户");function v(e,t,n,a,s,u){var v=(0,r.up)("LoginAccount"),w=(0,r.up)("TabPane"),A=(0,r.up)("LoginPhone"),C=(0,r.up)("Tabs"),y=(0,r.up)("Form"),k=(0,r.up)("Checkbox"),b=(0,r.up)("RouterLink"),x=(0,r.up)("Button");return(0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)("".concat(s.prefixCls,"-container"))},[(0,r._)("div",{class:(0,o.C_)("".concat(s.prefixCls,"-container-form"))},[(0,r.Wm)(y,{class:"login-layout",onKeyup:(0,i.D2)(u.handleSubmit,["enter"])},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{modelValue:s.customActiveKey,onOnClick:u.handleTabClick},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{name:"tab1",label:"账号密码登录"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(v,{ref:"alogin",onValidFail:u.validateFail,onSuccess:u.requestSuccess,onFail:u.requestFailed},null,8,["onValidFail","onSuccess","onFail"]),[[i.F8,"tab1"===s.customActiveKey]])]})),_:1}),(0,r.Wm)(w,{name:"tab2",label:"手机号登录"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(A,{ref:"plogin",onValidFail:u.validateFail,onSuccess:u.requestSuccess,onFail:u.requestFailed},null,8,["onValidFail","onSuccess","onFail"]),[[i.F8,"tab2"===s.customActiveKey]])]})),_:1})]})),_:1},8,["modelValue","onOnClick"])]})),_:1},8,["onKeyup"])],2),(0,r._)("div",{class:(0,o.C_)("".concat(s.prefixCls,"-container-remember"))},[(0,r.Wm)(k,{modelValue:s.rememberMe,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.rememberMe=e})},{default:(0,r.w5)((function(){return[c]})),_:1},8,["modelValue"]),(0,r.Wm)(b,{to:{}},{default:(0,r.w5)((function(){return[l]})),_:1})],2),(0,r._)("div",{class:(0,o.C_)("".concat(s.prefixCls,"-container-submit"))},[(0,r.Wm)(x,{size:"large",type:"primary",onClick:(0,i.iM)(u.handleSubmit,["stop","prevent"])},{default:(0,r.w5)((function(){return[d]})),_:1},8,["onClick"])],2),(0,r._)("div",{class:(0,o.C_)("".concat(s.prefixCls,"-container-other"))},[f,m,p,h,(0,r.Wm)(b,{to:{name:"register"},class:(0,o.C_)("".concat(s.prefixCls,"-container-other-register"))},{default:(0,r.w5)((function(){return[g]})),_:1},8,["class"])],2)],2)}var w=n(95082),A=(n(92222),n(68309),n(41539),n(39714),n(20065)),C=n(84722);function y(e,t,n,a,s,u){var c=(0,r.up)("Input"),l=(0,r.up)("FormItem"),d=(0,r.up)("Col"),f=(0,r.up)("Button"),m=(0,r.up)("Row"),p=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(p,{ref:"ruleForm",model:s.form,rules:s.rule},{default:(0,r.w5)((function(){return[(0,r.Wm)(l,{prop:"mobile"},{default:(0,r.w5)((function(){return[(0,r.Wm)(c,{prefix:"ios-phone-portrait",modelValue:s.form.mobile,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.form.mobile=e}),size:"large",placeholder:"请输入手机号码"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(m,{gutter:16},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{span:16},{default:(0,r.w5)((function(){return[(0,r.Wm)(l,{prop:"captcha"},{default:(0,r.w5)((function(){return[(0,r.Wm)(c,{prefix:"ios-mail-outline",modelValue:s.form.captcha,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.form.captcha=e}),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(d,{span:8},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{size:"large",disabled:s.state.smsSendBtn,onClick:(0,i.iM)(u.getCaptcha,["stop","prevent"]),textContent:(0,o.zw)(s.state.smsSendBtn?s.state.time+" s":"获取验证码")},null,8,["disabled","onClick","textContent"])]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])}n(21703),n(74916),n(77601),n(24603),n(28450),n(88386),n(47941),n(54747),n(69600);var k=n(34678),b={name:"LoginPhone",emits:["valid-fail","fail","success"],data:function(){return{form:{mobile:"",captcha:""},rule:{mobile:[{required:!0,validator:this.validateMobile,trigger:"change"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},state:{time:60,smsSendBtn:!1}}},methods:(0,w.Z)((0,w.Z)({},(0,A.nv)(["login"])),{},{validateMobile:function(e,t,n){t||n(new Error("请输入手机号码")),new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n(new Error("手机号码格式不正确"))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this.state,r=this.form;this.$refs.ruleForm.validateField("mobile",(function(e){if(e)t.$Message.error(e);else{n.smsSendBtn=!0;var o=window.setInterval((function(){n.time--<=0&&(n.time=60,n.smsSendBtn=!1,window.clearInterval(o))}),1e3),i=t.$Message.loading("验证码发送中..",0);(0,k.EK)({mobile:r.mobile}).then((function(e){setTimeout(i,0),t.$Notice.success({title:"系统提示",desc:"验证码获取成功，您的验证码为：".concat(e.captcha),duration:8})})).catch((function(e){setTimeout(i,1),clearInterval(o),n.time=60,n.smsSendBtn=!1,t.requestFailed(e)}))}}))},handleLogin:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){var n=(0,w.Z)({},e.form);e.login(n).then((function(t){return e.$emit("success",t)})).catch((function(t){return e.$emit("fail",t)}))}else{e.$emit("valid-fail");var r=e.$refs.ruleForm,o=Object.keys(r.model),i=[];o.forEach((function(e){return r.validateField(e,(function(e){e&&i.push(e)}))})),e.$Message.error(i.join("；"))}}))}})},x=n(40089);const S=(0,x.Z)(b,[["render",y]]);var F=S,W="data:image/png;base64,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",B=["src"];function M(e,t,n,o,i,a){var s=(0,r.up)("Input"),u=(0,r.up)("FormItem"),c=(0,r.up)("Col"),l=(0,r.up)("Row"),d=(0,r.up)("Form"),f=(0,r.up)("Verify");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(d,{ref:"ruleForm",model:i.form,rules:i.rule},{default:(0,r.w5)((function(){return[(0,r.Wm)(u,{prop:"username"},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{prefix:"ios-contact-outline",modelValue:i.form.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.form.username=e}),size:"large",placeholder:"请输入帐号 / admin"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(u,{prop:"password"},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{type:"password",prefix:"ios-lock-outline",modelValue:i.form.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.form.password=e}),size:"large",autocomplete:"false",placeholder:"请输入密码 / admin"},null,8,["modelValue"])]})),_:1}),a.isPictureCode?((0,r.wg)(),(0,r.j4)(l,{key:0,gutter:0},{default:(0,r.w5)((function(){return[(0,r.Wm)(c,{span:16},{default:(0,r.w5)((function(){return[(0,r.Wm)(u,{prop:"captcha"},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{prefix:"ios-mail-outline",modelValue:i.form.captcha,"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.form.captcha=e}),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(c,{span:8,class:"captcha"},{default:(0,r.w5)((function(){return[i.requestCodeSuccess?((0,r.wg)(),(0,r.iD)("img",{key:0,src:i.randCodeImage,onClick:t[3]||(t[3]=function(){return a.handleChangeCheckCode&&a.handleChangeCheckCode.apply(a,arguments)})},null,8,B)):((0,r.wg)(),(0,r.iD)("img",{key:1,src:W,onClick:t[4]||(t[4]=function(){return a.handleChangeCheckCode&&a.handleChangeCheckCode.apply(a,arguments)})}))]})),_:1})]})),_:1})):(0,r.kq)("",!0)]})),_:1},8,["model","rules"]),a.isPictureCode?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(f,{key:0,ref:"verify",mode:"pop",imgSize:{width:"400px",height:"200px"},captchaType:a.captchaType,onOnSuccess:a.verifySuccess,onOnError:a.verifyError},null,8,["captchaType","onOnSuccess","onOnError"]))])}var V=n(29564),D=n.n(V),I=n(31922),_=n(33564),E=n(29085),L={name:"LoginAccount",components:{Verify:I.Zu},emits:["valid-fail","fail","success"],data:function(){return{loginType:0,verifyForce:!1,requestCodeSuccess:!0,randCodeImage:"",form:{username:"admin",password:"admin",captcha:"admin"},rule:{username:[{required:!0,validator:this.handleUsernameOrEmail,message:"请输入帐号"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},computed:{captchaType:function(){var e=0,t=100,n=Math.floor(Math.random()*(t-e))+e,r=E.Yc.clickWord;return n%3===0?r=E.Yc.blockPuzzle:n%3===1&&(r=E.Yc.pictureCode),this.$config.captchaType||r},isPictureCode:function(){return this.verifyForce||this.captchaType===E.Yc.pictureCode}},created:function(){this.handleChangeCheckCode()},methods:(0,w.Z)((0,w.Z)({},(0,A.nv)(["login"])),{},{handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime();var t="https://api.boot.jeecg.com/sys/randomImage/".concat(this.currdatetime);(0,_.s7)(t).then((function(t){t.success?(e.randCodeImage=t.result,e.requestCodeSuccess=!0):(e.$Message.error(t.message),e.requestCodeSuccess=!1)})).catch((function(){e.requestCodeSuccess=!1}))},handleUsernameOrEmail:function(e,t,n){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;r.test(t)?this.loginType=0:this.loginType=1,n()},handleLogin:function(){var e=this;this.$refs.ruleForm.validate((function(t){t?e.isPictureCode?e.handleSubmit():e.$refs.verify.show():(e.$emit("valid-fail"),e.alertMsg())}))},alertMsg:function(){var e=this.$refs.ruleForm,t=Object.keys(e.model),n=[];t.forEach((function(t){return e.validateField(t,(function(e){e&&n.push(e)}))})),this.$Message.error(n.join("；"))},handleSubmit:function(){var e=this,t=(0,w.Z)({},this.form);t.password=D()(this.form.password),this.login(t).then((function(t){return e.$emit("success",t)})).catch((function(t){return e.$emit("fail",t)}))},verifySuccess:function(e){this.form.code=e.captchaVerification,this.handleSubmit()},verifyError:function(){this.verifyForce=!0,this.$Message.error("验证码组件异常，强制启用图形验证码")}})};const T=(0,x.Z)(L,[["render",M]]);var U=T,N={components:{LoginPhone:F,LoginAccount:U},data:function(){return{prefixCls:"".concat(this.$config.cssPrefix,"login"),customActiveKey:"tab1",rememberMe:!1}},computed:(0,w.Z)({},(0,A.rn)({homeRouteName:function(e){return e.app.homeRouteName},userInfo:function(e){return e.user.userInfo}})),methods:{verifySuccess:function(e){this.$refs.alogin.verifySuccess(e)},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(){"tab1"===this.customActiveKey?this.$refs.alogin.handleLogin():this.$refs.plogin.handleLogin()},requestSuccess:function(e){var t=this;this.$router.push({name:this.homeRouteName}),setTimeout((function(){return t.$Message.success("".concat((0,C.D$)(),"，").concat(t.userInfo.name))}),1e3)},requestFailed:function(e){this.validateFail(),this.$Notice.error({title:"系统提示",desc:e.toString()})},validateFail:function(){}}};const R=(0,x.Z)(N,[["render",v]]);var z=R},93247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(73396),o=n(87139),i=n(49242),a={style:{width:"240px"}},s=(0,r.Uk)(" 强度："),u=(0,r._)("div",{style:{"margin-top":"10px"}},[(0,r._)("span",null,"请至少输入 6 个字符。请不要使用容易被猜到的密码。")],-1),c=(0,r.Uk)("注册"),l=(0,r.Uk)("使用已有账户登录");function d(e,t,n,d,f,m){var p=(0,r.up)("Input"),h=(0,r.up)("FormItem"),g=(0,r.up)("Progress"),v=(0,r.up)("Poptip"),w=(0,r.up)("Col"),A=(0,r.up)("Button"),C=(0,r.up)("Row"),y=(0,r.up)("Form"),k=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)("".concat(f.prefixCls,"-container"))},[(0,r.Wm)(y,{ref:"form",model:f.form,rules:f.rule},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{prop:"username"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{prefix:"ios-contact-outline",modelValue:f.form.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.form.username=e}),size:"large",placeholder:"请输入账户名"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(v,{"word-wrap":"",trigger:"focus",placement:"right-start",modelValue:f.state.passwordLevelChecked,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.state.passwordLevelChecked=e})},{content:(0,r.w5)((function(){return[(0,r._)("div",a,[(0,r._)("div",{class:(0,o.C_)(m.passwordLevelClass)},[s,(0,r._)("span",null,(0,o.zw)(m.passwordLevelName),1)],2),(0,r.Wm)(g,{percent:f.state.percent,"hide-info":!0,"stroke-color":m.passwordLevelColor},null,8,["percent","stroke-color"]),u])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(h,{prop:"password"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{type:"password",prefix:"ios-lock-outline",modelValue:f.form.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.form.password=e}),size:"large",onClick:m.handlePasswordInputClick,autocomplete:"false",placeholder:"至少6位密码，区分大小写"},null,8,["modelValue","onClick"])]})),_:1})]})),_:1},8,["modelValue"]),(0,r.Wm)(h,{prop:"password2"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{type:"password",prefix:"ios-lock-outline",modelValue:f.form.password2,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.form.password2=e}),size:"large",autocomplete:"false",placeholder:"确认密码"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(h,{prop:"mobile"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{prefix:"ios-phone-portrait",modelValue:f.form.mobile,"onUpdate:modelValue":t[4]||(t[4]=function(e){return f.form.mobile=e}),size:"large",placeholder:"请输入手机号码"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(C,{gutter:16},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{span:16},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,{prop:"captcha"},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,{prefix:"ios-mail-outline",modelValue:f.form.captcha,"onUpdate:modelValue":t[5]||(t[5]=function(e){return f.form.captcha=e}),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"])]})),_:1})]})),_:1}),(0,r.Wm)(w,{span:8},{default:(0,r.w5)((function(){return[(0,r.Wm)(A,{size:"large",disabled:f.state.smsSendBtn,onClick:(0,i.iM)(m.getCaptcha,["stop","prevent"]),textContent:(0,o.zw)(f.state.smsSendBtn?f.state.time+" s":"获取验证码")},null,8,["disabled","onClick","textContent"])]})),_:1})]})),_:1})]})),_:1},8,["model","rules"]),(0,r._)("div",{class:(0,o.C_)("".concat(f.prefixCls,"-container-submit"))},[(0,r.Wm)(A,{size:"large",type:"primary",loading:f.registerBtn,onClick:(0,i.iM)(m.handleSubmit,["stop","prevent"]),disabled:f.registerBtn},{default:(0,r.w5)((function(){return[c]})),_:1},8,["loading","onClick","disabled"])],2),(0,r._)("div",{class:(0,o.C_)("".concat(f.prefixCls,"-container-other-login"))},[(0,r.Wm)(k,{to:{name:"login"}},{default:(0,r.w5)((function(){return[l]})),_:1})],2)],2)}var f=n(95082),m=(n(21703),n(74916),n(77601),n(73210),n(47941),n(41539),n(54747),n(69600),n(39714),n(31137)),p=n(34678),h={0:"低",1:"低",2:"中",3:"强"},g={0:"error",1:"error",2:"warning",3:"success"},v={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},w={name:"Register",mixins:[m.KT],data:function(){return{prefixCls:"".concat(this.$config.cssPrefix,"login"),form:{username:"",password:"",password2:"",mobile:"",captcha:""},rule:{username:[{required:!0,validator:this.checkUsername,message:"请输入账户名"}],password:[{required:!0,validator:this.handlePasswordLevel,message:"至少6位密码，区分大小写"}],password2:[{required:!0,validator:this.handlePasswordCheck,message:"至少6位密码，区分大小写"}],mobile:[{required:!0,validator:this.handlePhoneCheck,message:"请输入手机号码",trigger:"change"}],captcha:[{required:!0,validator:this.handleCaptchaCheck,message:"请输入验证码"}]},state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},registerBtn:!1}},computed:{passwordLevelClass:function(){return g[this.state.passwordLevel]},passwordLevelName:function(){return h[this.state.passwordLevel]},passwordLevelColor:function(){return v[this.state.passwordLevel]}},methods:{checkUsername:function(e,t,n){t?n():n(new Error("请输入用户名"))},handlePasswordLevel:function(e,t,n){var r=0;/[0-9]/.test(t)&&r++,/[a-zA-Z]/.test(t)&&r++,/[^0-9a-zA-Z_]/.test(t)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),n()):(0===r&&(this.state.percent=10),n(new Error("密码强度不够")))},handlePasswordCheck:function(e,t,n){var r=this.form.password;void 0===t&&n(new Error("请输入密码")),t&&r&&t.trim()!==r.trim()&&n(new Error("两次密码不一致")),n()},handlePhoneCheck:function(e,t,n){var r=/^1[3456789]\d{9}$/;r.test(t)?n():n(new Error("请输入正确手机号"))},handlePasswordInputClick:function(){this.isMobile?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleCaptchaCheck:function(e,t,n){t?n():n(new Error("请输入验证码"))},handleSubmit:function(){var e=this,t=this.form,n=this.state,r=this.$router;this.$refs.form.validate((function(o){if(o)n.passwordLevelChecked=!1,r.push({name:"registerResult",params:(0,f.Z)({},t)});else{var i=e.$refs.form,a=Object.keys(i.model),s=[];a.forEach((function(e){return i.validateField(e,(function(e){e&&s.push(e)}))})),e.$Message.error(s.join("；"))}}))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this.form,r=this.state,o=this.$Message,i=this.$Notice;this.$refs.form.validateField("mobile",(function(e){if(e)t.$Message.error(e);else{r.smsSendBtn=!0;var a=window.setInterval((function(){r.time--<=0&&(r.time=60,r.smsSendBtn=!1,window.clearInterval(a))}),1e3),s=o.loading("验证码发送中..",0);(0,p.EK)({mobile:n.mobile}).then((function(e){setTimeout(s,0),i.success({title:"系统提示",desc:"验证码获取成功，您的验证码为：".concat(e.captcha),duration:8})})).catch((function(e){setTimeout(s,1),clearInterval(a),r.time=60,r.smsSendBtn=!1,t.requestFailed(e)}))}}))},requestFailed:function(e){this.$Notice.error({title:"系统提示",desc:e.toString()}),this.registerBtn=!1}},watch:{"state.passwordLevel":function(e){console.log(e)}}},A=n(40089);const C=(0,A.Z)(w,[["render",d]]);var y=C},54476:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});n(82526),n(41817);var r=n(73396),o=(0,r.Uk)("查看邮箱"),i=(0,r.Uk)("返回首页");function a(e,t,n,a,s,u){var c=(0,r.up)("Button"),l=(0,r.up)("Result");return(0,r.wg)(),(0,r.j4)(l,{type:"success",title:u.email,desc:s.description},{actions:(0,r.w5)((function(){return[(0,r.Wm)(c,{size:"large",type:"primary"},{default:(0,r.w5)((function(){return[o]})),_:1}),(0,r.Wm)(c,{size:"large",style:{"margin-left":"8px"},onClick:u.goHomeHandle},{default:(0,r.w5)((function(){return[i]})),_:1},8,["onClick"])]})),_:1},8,["title","desc"])}var s=n(1857),u={name:"RegisterResult",components:{Result:s.Z},data:function(){return{description:"激活邮件已发送到你的邮箱中，邮件有效期为24小时。请及时登录邮箱，点击邮件中的链接激活帐户。",form:{}}},computed:{email:function(){var e=this.form&&this.form.email||"xxx";return"你的账户：".concat(e," 注册成功")}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:"login"})}}},c=n(40089);const l=(0,c.Z)(u,[["render",a]]);var d=l},94897:function(e,t,n){"use strict";e.exports=n.p+"img/wx.27465650.svg"}}]);