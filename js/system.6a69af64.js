(self["webpackChunkiview_admin_plus"]=self["webpackChunkiview_admin_plus"]||[]).push([[699],{26050:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],l=0;l<e.length;l++)t.push(255&e.charCodeAt(l));return t},bytesToString:function(e){for(var t=[],l=0;l<e.length;l++)t.push(String.fromCharCode(e[l]));return t.join("")}}};e.exports=t},58258:function(e){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&l.rotl(e,8)|4278255360&l.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=l.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],l=0,a=0;l<e.length;l++,a+=8)t[a>>>5]|=e[l]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],l=0;l<32*e.length;l+=8)t.push(e[l>>>5]>>>24-l%32&255);return t},bytesToHex:function(e){for(var t=[],l=0;l<e.length;l++)t.push((e[l]>>>4).toString(16)),t.push((15&e[l]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(parseInt(e.substr(l,2),16));return t},bytesToBase64:function(e){for(var l=[],a=0;a<e.length;a+=3)for(var o=e[a]<<16|e[a+1]<<8|e[a+2],n=0;n<4;n++)8*a+6*n<=8*e.length?l.push(t.charAt(o>>>6*(3-n)&63)):l.push("=");return l.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],a=0,o=0;a<e.length;o=++a%4)0!=o&&l.push((t.indexOf(e.charAt(a-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(a))>>>6-2*o);return l}};e.exports=l})()},88566:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||l(e)||!!e._isBuffer)}},29564:function(e,t,l){(function(){var t=l(58258),a=l(26050).utf8,o=l(88566),n=l(26050).bin,r=function(e,l){e.constructor==String?e=l&&"binary"===l.encoding?n.stringToBytes(e):a.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=t.bytesToWords(e),s=8*e.length,u=1732584193,d=-271733879,m=-1732584194,c=271733878,f=0;f<i.length;f++)i[f]=16711935&(i[f]<<8|i[f]>>>24)|4278255360&(i[f]<<24|i[f]>>>8);i[s>>>5]|=128<<s%32,i[14+(s+64>>>9<<4)]=s;var h=r._ff,p=r._gg,g=r._hh,w=r._ii;for(f=0;f<i.length;f+=16){var W=u,_=d,y=m,k=c;u=h(u,d,m,c,i[f+0],7,-680876936),c=h(c,u,d,m,i[f+1],12,-389564586),m=h(m,c,u,d,i[f+2],17,606105819),d=h(d,m,c,u,i[f+3],22,-1044525330),u=h(u,d,m,c,i[f+4],7,-176418897),c=h(c,u,d,m,i[f+5],12,1200080426),m=h(m,c,u,d,i[f+6],17,-1473231341),d=h(d,m,c,u,i[f+7],22,-45705983),u=h(u,d,m,c,i[f+8],7,1770035416),c=h(c,u,d,m,i[f+9],12,-1958414417),m=h(m,c,u,d,i[f+10],17,-42063),d=h(d,m,c,u,i[f+11],22,-1990404162),u=h(u,d,m,c,i[f+12],7,1804603682),c=h(c,u,d,m,i[f+13],12,-40341101),m=h(m,c,u,d,i[f+14],17,-1502002290),d=h(d,m,c,u,i[f+15],22,1236535329),u=p(u,d,m,c,i[f+1],5,-165796510),c=p(c,u,d,m,i[f+6],9,-1069501632),m=p(m,c,u,d,i[f+11],14,643717713),d=p(d,m,c,u,i[f+0],20,-373897302),u=p(u,d,m,c,i[f+5],5,-701558691),c=p(c,u,d,m,i[f+10],9,38016083),m=p(m,c,u,d,i[f+15],14,-660478335),d=p(d,m,c,u,i[f+4],20,-405537848),u=p(u,d,m,c,i[f+9],5,568446438),c=p(c,u,d,m,i[f+14],9,-1019803690),m=p(m,c,u,d,i[f+3],14,-187363961),d=p(d,m,c,u,i[f+8],20,1163531501),u=p(u,d,m,c,i[f+13],5,-1444681467),c=p(c,u,d,m,i[f+2],9,-51403784),m=p(m,c,u,d,i[f+7],14,1735328473),d=p(d,m,c,u,i[f+12],20,-1926607734),u=g(u,d,m,c,i[f+5],4,-378558),c=g(c,u,d,m,i[f+8],11,-2022574463),m=g(m,c,u,d,i[f+11],16,1839030562),d=g(d,m,c,u,i[f+14],23,-35309556),u=g(u,d,m,c,i[f+1],4,-1530992060),c=g(c,u,d,m,i[f+4],11,1272893353),m=g(m,c,u,d,i[f+7],16,-155497632),d=g(d,m,c,u,i[f+10],23,-1094730640),u=g(u,d,m,c,i[f+13],4,681279174),c=g(c,u,d,m,i[f+0],11,-358537222),m=g(m,c,u,d,i[f+3],16,-722521979),d=g(d,m,c,u,i[f+6],23,76029189),u=g(u,d,m,c,i[f+9],4,-640364487),c=g(c,u,d,m,i[f+12],11,-421815835),m=g(m,c,u,d,i[f+15],16,530742520),d=g(d,m,c,u,i[f+2],23,-995338651),u=w(u,d,m,c,i[f+0],6,-198630844),c=w(c,u,d,m,i[f+7],10,1126891415),m=w(m,c,u,d,i[f+14],15,-1416354905),d=w(d,m,c,u,i[f+5],21,-57434055),u=w(u,d,m,c,i[f+12],6,1700485571),c=w(c,u,d,m,i[f+3],10,-1894986606),m=w(m,c,u,d,i[f+10],15,-1051523),d=w(d,m,c,u,i[f+1],21,-2054922799),u=w(u,d,m,c,i[f+8],6,1873313359),c=w(c,u,d,m,i[f+15],10,-30611744),m=w(m,c,u,d,i[f+6],15,-1560198380),d=w(d,m,c,u,i[f+13],21,1309151649),u=w(u,d,m,c,i[f+4],6,-145523070),c=w(c,u,d,m,i[f+11],10,-1120210379),m=w(m,c,u,d,i[f+2],15,718787259),d=w(d,m,c,u,i[f+9],21,-343485551),u=u+W>>>0,d=d+_>>>0,m=m+y>>>0,c=c+k>>>0}return t.endian([u,d,m,c])};r._ff=function(e,t,l,a,o,n,r){var i=e+(t&l|~t&a)+(o>>>0)+r;return(i<<n|i>>>32-n)+t},r._gg=function(e,t,l,a,o,n,r){var i=e+(t&a|l&~a)+(o>>>0)+r;return(i<<n|i>>>32-n)+t},r._hh=function(e,t,l,a,o,n,r){var i=e+(t^l^a)+(o>>>0)+r;return(i<<n|i>>>32-n)+t},r._ii=function(e,t,l,a,o,n,r){var i=e+(l^(t|~a))+(o>>>0)+r;return(i<<n|i>>>32-n)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,l){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var a=t.wordsToBytes(r(e,l));return l&&l.asBytes?a:l&&l.asString?n.bytesToString(a):t.bytesToHex(a)}})()},33564:function(e,t,l){"use strict";l.d(t,{s7:function(){return m},JV:function(){return u},qM:function(){return d},RB:function(){return c}});var a=l(38042),o=(l(26699),l(29564)),n=l.n(o);const r="dd05f1c54d63749eda95f9fa6d49v442a";class i{static sortAsc(e){const t=new Array;let l=0;for(const n in e)t[l]=n,l++;const a=t.sort(),o={};for(const n in a)o[a[n]]=e[a[n]];return o}static getSign(e,t){const l=this.parseQueryString(e),a=this.mergeObject(l,t),o=this.sortAsc(a);return n()(JSON.stringify(o)+r).toUpperCase()}static parseQueryString(e){const t=/^[^\?]+\?([\w\W]+)$/,l=/([^&=]+)=([\w\W]*?)(&|$|#)/g,a=t.exec(e),o={};let n=e.substring(e.lastIndexOf("/")+1);if(n.includes(",")&&(n.includes("?")&&(n=n.substring(0,n.indexOf("?"))),o["x-path-variable"]=decodeURIComponent(n)),a&&a[1]){const e=a[1];let t;while(null!=(t=l.exec(e)))this.myIsNaN(t[2])&&(t[2]=t[2].toString()),o[t[1]]=t[2]}return o}static mergeObject(e,t){if(t&&Object.keys(t).length>0)for(const l in t)!0===t.hasOwnProperty(l)&&(this.myIsNaN(t[l])&&(t[l]=t[l].toString()),e[l]=t[l]);return e}static urlEncode(e,t,l){if(null==e)return"";let a="";const o=typeof e;if("string"===o||"number"===o||"boolean"===o)a+=`&${t}=${null==l||l?encodeURIComponent(e):e}`;else for(const n in e){const o=null==t?n:t+(e instanceof Array?`[${n}]`:`.${n}`);a+=this.urlEncode(e[n],o,l)}return a}static getDateTimeToString(){const e=new Date,t=e.getFullYear();let l=e.getMonth()+1,a=e.getDate();l<10&&(l=`0${l}`),a<10&&(a=`0${a}`);let o=e.getHours(),n=e.getMinutes(),r=e.getSeconds();const i=e.getMilliseconds();return o<10&&(o=`0${o}`),n<10&&(n=`0${n}`),r<10&&(r=`0${r}`),i<10&&(r=`0${i}`),`${t}${l}${a}${o}${n}${r}`}static myIsNaN(e){return"number"===typeof e&&!isNaN(e)}}const s={user:"/user",role:"/role",service:"/service",userList:"/userList",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function u(e){return(0,a.Z)({url:s.role,method:"get",params:e})}function d(e){return(0,a.Z)({url:s.service,method:"get",params:e})}function m(e,t){const l=i.getSign(e,t),o={"X-Sign":l,"X-TIMESTAMP":i.getDateTimeToString()};return(0,a.Z)({url:e,method:"get",params:t,headers:o})}function c(e){return(0,a.Z)({url:s.userList,method:"get",params:e})}},97250:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return R}});var a=l(73396),o=l(87139),n=l(49242);const r=(0,a.Uk)("添加菜单 "),i=(0,a.Uk)("添加顶栏菜单"),s=(0,a.Uk)("添加子菜单"),u=(0,a.Uk)("批量删除"),d={class:"ivu-p-8"},m=(0,a.Uk)("编辑"),c=(0,a.Uk)("添加子菜单"),f=(0,a.Uk)("删除"),h={class:"ivu-menu-head"},p={class:"ivu-pl-8"},g=(0,a.Uk)("侧边栏菜单"),w=(0,a.Uk)("当前窗口"),W=(0,a.Uk)("新窗口"),_=(0,a.Uk)(" 分割线 "),y=(0,a.Uk)(" 菜单权限 "),k=(0,a.Uk)("重置"),v=(0,a.Uk)("保存");function b(e,t,l,b,C,U){const x=(0,a.up)("Icon"),M=(0,a.up)("Button"),V=(0,a.up)("DropdownItem"),O=(0,a.up)("DropdownMenu"),R=(0,a.up)("Dropdown"),T=(0,a.up)("Input"),$=(0,a.up)("Tree"),S=(0,a.up)("Card"),D=(0,a.up)("Col"),I=(0,a.up)("Avatar"),z=(0,a.up)("Empty"),A=(0,a.up)("FormItem"),B=(0,a.up)("Radio"),L=(0,a.up)("RadioGroup"),P=(0,a.up)("Tooltip"),j=(0,a.up)("i-switch"),E=(0,a.up)("IconSelect"),N=(0,a.up)("Space"),q=(0,a.up)("Form"),F=(0,a.up)("Row");return(0,a.wg)(),(0,a.j4)(F,{gutter:24},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{xs:24,sm:24,md:24,lg:24,xl:10},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{shadow:""},{title:(0,a.w5)((()=>[(0,a.Wm)(R,null,{list:(0,a.w5)((()=>[(0,a.Wm)(O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(V,{disabled:!Object.keys(C.selectedMenu).length},{default:(0,a.w5)((()=>[s])),_:1},8,["disabled"])])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(M,{type:"primary",ghost:"",class:"ivu-mr"},{default:(0,a.w5)((()=>[r,(0,a.Wm)(x,{type:"ios-arrow-down"})])),_:1})])),_:1}),(0,a.Wm)(M,{type:"primary",ghost:"",class:"ivu-mr",icon:"md-list",onClick:U.collapseOrExpand},{default:(0,a.w5)((()=>[(0,a.Uk)("全部"+(0,o.zw)(C.collapse?"收起":"展开"),1)])),_:1},8,["onClick"]),(0,a.Wm)(M,{type:"error",ghost:"",class:"ivu-mr",icon:"md-trash",onClick:U.deleteMenus},{default:(0,a.w5)((()=>[u])),_:1},8,["onClick"])])),default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(T,{suffix:"ios-search",placeholder:"输入菜单名称搜索"})]),(0,a.Wm)($,{data:C.treeData,"show-checkbox":"",onOnSelectChange:U.handleSelectMenu,onOnCheckChange:U.handleCheckedMenu,onOnContextmenu:U.handleContextMenu},{contextMenu:(0,a.w5)((()=>[(0,a.Wm)(V,{onClick:U.menuEdit},{default:(0,a.w5)((()=>[m])),_:1},8,["onClick"]),(0,a.Wm)(V,{onClick:U.menuEdit},{default:(0,a.w5)((()=>[c])),_:1},8,["onClick"]),(0,a.Wm)(V,{onClick:U.menuDelete,divided:"",style:{color:"#ed4014"}},{default:(0,a.w5)((()=>[f])),_:1},8,["onClick"])])),_:1},8,["data","onOnSelectChange","onOnCheckChange","onOnContextmenu"])])),_:1})])),_:1}),(0,a.Wm)(D,{xs:24,sm:24,md:24,lg:24,xl:14},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{shadow:""},{title:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a.Wm)(I,{size:"small",icon:"md-apps",style:{color:"#1890ff",background:"#e6f7ff"}}),(0,a._)("span",p,"编辑菜单"+(0,o.zw)(Object.keys(C.selectedMenu).length?"："+C.selectedMenu.title:""),1)])])),default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(z,{desc:"请选择一项菜单编辑"},null,512),[[n.F8,!Object.keys(C.selectedMenu).length]]),Object.keys(C.selectedMenu).length?((0,a.wg)(),(0,a.j4)(q,{key:0,"label-width":100,"label-colon":!0,ref:"form",model:C.form,rules:C.rule},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{label:"类型"},{default:(0,a.w5)((()=>[g])),_:1}),(0,a.Wm)(A,{label:"标题"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:C.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>C.form.title=e),placeholder:"请输入标题，必填"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(A,{label:"副标题"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:C.form.subtitle,"onUpdate:modelValue":t[1]||(t[1]=e=>C.form.subtitle=e),placeholder:"请输入副标题"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(A,{label:"路径"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:C.form.path,"onUpdate:modelValue":t[2]||(t[2]=e=>C.form.path=e),placeholder:"请输入路径，必填"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(A,{label:"打开方式"},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{modelValue:C.form.openWay,"onUpdate:modelValue":t[3]||(t[3]=e=>C.form.openWay=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"0"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(B,{label:"1"},{default:(0,a.w5)((()=>[W])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(A,null,{label:(0,a.w5)((()=>[_,(0,a.Wm)(P,{content:"菜单折叠时是否显示分割线",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{type:"md-help-circle"})])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(j,{modelValue:C.form.divider,"onUpdate:modelValue":t[4]||(t[4]=e=>C.form.divider=e),"true-value":"1","false-value":"0"},{open:(0,a.w5)((()=>[(0,a.Wm)(x,{type:"md-checkmark"})])),close:(0,a.w5)((()=>[(0,a.Wm)(x,{type:"md-close"})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(A,{label:"图标"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:C.form.icon,"onUpdate:modelValue":t[5]||(t[5]=e=>C.form.icon=e),placement:"top",clearable:"",placeholder:"请选择图标"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(A,null,{label:(0,a.w5)((()=>[y,(0,a.Wm)(P,{content:"菜单权限",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{type:"md-help-circle"})])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(T,{modelValue:C.form.auth,"onUpdate:modelValue":t[6]||(t[6]=e=>C.form.auth=e),placeholder:"权限，逗号分隔"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N,{size:16},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{onClick:U.resetMenu},{default:(0,a.w5)((()=>[k])),_:1},8,["onClick"]),(0,a.Wm)(M,{type:"primary",onClick:U.resetMenu},{default:(0,a.w5)((()=>[v])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"])):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1})}var C=l(20065),U=l(73651),x=l(54445),M={name:"Menu",components:{IconSelect:U.xG},data(){return{form:{title:"",subtitle:"",path:"",openWay:"0",divider:"0",icon:"",auth:""},rule:{},treeData:[],contextData:{},collapse:!1,checkedMenus:[],selectedMenu:{}}},created(){this.getTreeData()},computed:{...(0,C.rn)({mainMenu:e=>e.auth.addRouters})},methods:{getTreeData(){const e=(0,x.IK)(this.mainMenu);this.formatMenus(this.treeData,e)},formatMenus(e,t){for(const l of t){const t={title:l.meta.title,path:l.path,openWay:"0",divider:"0",icon:l.meta.icon,expand:!!l.children&&this.collapse,contextmenu:!0,checked:!1,children:[]};l.children&&this.formatMenus(t.children,l.children),e.push(t)}},handleSelectMenu(e,t){this.selectedMenu=t.selected?t:{},this.form={...this.selectedMenu}},handleCheckedMenu(e,t){this.checkedMenus=[...e]},handleContextMenu(e){this.contextData=e},menuEdit(){this.$Message.info(`编辑了 ${this.contextData.title}`)},menuDelete(){this.$Message.error(`删除了 ${this.contextData.title}`)},collapseOrExpand(){this.collapse=!this.collapse,this.treeData=[],this.getTreeData()},deleteMenus(){this.checkedMenus.length?this.$Modal.confirm({title:"删除确认",content:`您确认要删除菜单<strong>${this.checkedMenus.map((e=>e.title)).join(",")}</strong>？`,loading:!0,onOk:()=>{setTimeout((()=>{this.$Modal.remove(),this.$Message.error("抱歉，您没有该权限")}),800)},onCancel:()=>{this.$Message.info("点击了取消")}}):this.$Message.error("您没有勾选菜单")},resetMenu(){this.form={...this.selectedMenu}}}},V=l(40089);const O=(0,V.Z)(M,[["render",b],["__scopeId","data-v-2b4e9dff"]]);var R=O},72500:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return W}});var a=l(73396),o=l(87139);const n=(0,a.Uk)("添加角色"),r=(0,a.Uk)("批量删除"),i={class:"ivu-inline-block ivu-fr"},s=(0,a.Uk)("工具栏"),u=["onClick"],d=["onClick"],m=["onClick"],c={class:"ivu-mt ivu-text-center"},f=(0,a.Uk)(" 是否默认角色 ");function h(e,t,l,h,p,g){const w=(0,a.up)("Button"),W=(0,a.up)("Tag"),_=(0,a.up)("Divider"),y=(0,a.up)("Table"),k=(0,a.up)("Page"),v=(0,a.up)("Input"),b=(0,a.up)("FormItem"),C=(0,a.up)("Icon"),U=(0,a.up)("Tooltip"),x=(0,a.up)("i-switch"),M=(0,a.up)("Form"),V=(0,a.up)("FormContainer"),O=(0,a.up)("Card");return(0,a.wg)(),(0,a.j4)(O,{shadow:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{type:"primary",icon:"md-add",ghost:"",class:"ivu-mr-8",onClick:g.addRole},{default:(0,a.w5)((()=>[n])),_:1},8,["onClick"]),(0,a.Wm)(w,{type:"error",icon:"md-trash",ghost:"",onClick:g.delRoles},{default:(0,a.w5)((()=>[r])),_:1},8,["onClick"]),(0,a._)("div",i,[(0,a.Wm)(W,{color:"blue"},{default:(0,a.w5)((()=>[s])),_:1})]),(0,a.Wm)(y,{columns:p.columns,data:p.data,loading:p.loading,class:"ivu-mt",onOnSelectionChange:t[0]||(t[0]=e=>this.selectedRows=e)},{defaultRole:(0,a.w5)((({row:e})=>[(0,a.Wm)(W,{color:"1"===e.defaultRole?"green":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)("1"===e.defaultRole?"是":"否"),1)])),_:2},1032,["color"])])),action:(0,a.w5)((({row:e})=>[(0,a._)("a",{onClick:t=>g.editRole(e)},"菜单权限",8,u),(0,a.Wm)(_,{type:"vertical"}),(0,a._)("a",{onClick:t=>g.editRole(e)},"编辑",8,d),(0,a.Wm)(_,{type:"vertical"}),(0,a._)("a",{onClick:t=>g.removeRole(e)},"删除",8,m)])),_:1},8,["columns","data","loading"]),(0,a._)("div",c,[(0,a.Wm)(k,{"show-sizer":"","show-elevator":"",total:p.total,onOnChange:g.changePage,onOnPageSizeChange:g.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])]),(0,a.Wm)(V,{width:520,modelValue:p.visible,title:p.title,onOnVisibleChange:t[4]||(t[4]=e=>p.visible=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{ref:"form",model:p.form,rules:p.rule,"label-colon":!0,"label-position":"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{label:"角色名称"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{modelValue:p.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>p.form.name=e),placeholder:"请输入角色名称，必填"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,{label:"说明"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{modelValue:p.form.desc,"onUpdate:modelValue":t[2]||(t[2]=e=>p.form.desc=e),placeholder:"请输入说明"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,null,{label:(0,a.w5)((()=>[f,(0,a.Wm)(U,{content:"开启后，新注册用户默认拥有该角色",placement:"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{type:"md-help-circle"})])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(x,{modelValue:p.form.defaultRole,"onUpdate:modelValue":t[3]||(t[3]=e=>p.form.defaultRole=e),"true-value":"1","false-value":"0"},{open:(0,a.w5)((()=>[(0,a.Wm)(C,{type:"md-checkmark"})])),close:(0,a.w5)((()=>[(0,a.Wm)(C,{type:"md-close"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])),_:1})}var p={name:"Role",data(){return{query:{pageNo:1,pageSize:10},loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"角色名称",key:"name",sortable:!0,minWidth:140},{title:"说明",key:"desc",minWidth:120},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"更新时间",key:"updateTime",sortable:!0,minWidth:180},{title:"是否默认角色",key:"defaultRole",slot:"defaultRole",minWidth:140},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:200}],data:[],total:0,form:{},rule:{},title:"",visible:!1,selectedRows:[]}},created(){this.getRoleList()},methods:{getRoleList(){setTimeout((()=>{this.data=[{id:2000000001,name:"ROLE_USER",desc:"普通用户",createTime:"2020-01-01 12:01:25",updateTime:"2020-01-02 13:10:33",defaultRole:"1"},{id:2000000002,name:"ROLE_OP",desc:"运营用户",createTime:"2020-01-02 08:12:43",updateTime:"2020-01-04 22:12:28",defaultRole:"0"},{id:2000000003,name:"ROLE_ADMIN",desc:"管理员用户",createTime:"2020-01-03 12:44:19",updateTime:"2020-01-06 14:02:22",defaultRole:"0"}]}),500)},addRole(){this.form={defaultRole:"0"},this.title="添加角色",this.visible=!0},delRoles(){this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:`您确认要删除角色<br/><strong>${this.selectedRows.map((e=>e.name)).join(",")}</strong>？`,loading:!0,onOk:()=>{setTimeout((()=>{this.$Modal.remove(),this.$Message.error("抱歉，您没有该权限")}),800)},onCancel:()=>{this.$Message.info("点击了取消")}}):this.$Message.error("您没有选择角色")},editRole(e){this.form=e,this.title="编辑角色",this.visible=!0},removeRole(e){this.$Modal.confirm({title:"删除确认",content:`您确认要删除角色<strong>${e.name}</strong>？`,loading:!0,onOk:()=>{setTimeout((()=>{this.$Modal.remove(),this.$Message.error("抱歉，您没有该权限")}),800)},onCancel:()=>{this.$Message.info("点击了取消")}})},changePage(e){this.query.pageNo=e,this.getRoleList()},changePageSize(e){this.query.pageSize=e,this.getRoleList()}}},g=l(40089);const w=(0,g.Z)(p,[["render",h]]);var W=w},45623:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return j}});var a=l(73396),o=l(87139);const n=(0,a.Uk)("男"),r=(0,a.Uk)("女"),i=(0,a.Uk)("正常"),s=(0,a.Uk)("冻结"),u=(0,a.Uk)("关闭"),d=(0,a.Uk)("查询"),m=(0,a.Uk)("重置"),c=(0,a.Uk)("添加用户"),f=(0,a.Uk)("批量删除"),h={class:"ivu-inline-block ivu-fr"},p=(0,a.Uk)("工具栏"),g=["onClick"],w=["onClick"],W=(0,a.Uk)("删除"),_=[W],y={class:"ivu-mt ivu-text-center"},k=(0,a.Uk)("修改 "),v={class:"ivu-mt-8"},b={class:"ivu-mt-8"},C=(0,a.Uk)("男"),U=(0,a.Uk)("女"),x=(0,a.Uk)("正常"),M=(0,a.Uk)("冻结"),V=(0,a.Uk)("关闭"),O=(0,a.Uk)(" ROLE_USER "),R=(0,a._)("span",{style:{color:"#c5c8ce"}},"普通用户",-1),T=(0,a.Uk)(" ROLE_ADMIN "),$=(0,a._)("span",{style:{color:"#c5c8ce"}},"管理员",-1),S=(0,a.Uk)(" ROLE_OP "),D=(0,a._)("span",{style:{color:"#c5c8ce"}},"运营",-1);function I(e,t,l,W,I,z){const A=(0,a.up)("Input"),B=(0,a.up)("FormItem"),L=(0,a.up)("Col"),P=(0,a.up)("Option"),j=(0,a.up)("Select"),E=(0,a.up)("DatePicker"),N=(0,a.up)("Button"),q=(0,a.up)("Icon"),F=(0,a.up)("Space"),Z=(0,a.up)("Row"),H=(0,a.up)("Form"),Q=(0,a.up)("Tag"),Y=(0,a.up)("Avatar"),G=(0,a.up)("Badge"),J=(0,a.up)("Divider"),X=(0,a.up)("Table"),K=(0,a.up)("Page"),ee=(0,a.up)("Upload"),te=(0,a.up)("Region"),le=(0,a.up)("FormContainer"),ae=(0,a.up)("Card"),oe=(0,a.Q2)("color");return(0,a.wg)(),(0,a.j4)(ae,{shadow:""},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{"label-width":100,"label-colon":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{gutter:24},{default:(0,a.w5)((()=>[(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"用户名"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{placeholder:"请输入用户名"})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"手机号"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{placeholder:"请输入手机号"})])),_:1})])),_:1}),I.advanced?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"邮箱"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{placeholder:"请输入邮箱"})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"性别"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{placeholder:"请选择性别",clearable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{value:"1"},{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(P,{value:"2"},{default:(0,a.w5)((()=>[r])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"登录账号"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{placeholder:"请输入登录账号"})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"用户ID"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{placeholder:"请输入用户ID"})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"状态",clearable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{placeholder:"请选择状态"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{value:"1"},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(P,{value:"2"},{default:(0,a.w5)((()=>[s])),_:1}),(0,a.Wm)(P,{value:"3"},{default:(0,a.w5)((()=>[u])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"创建时间"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{style:{width:"100%"},placeholder:"请选创建时间"})])),_:1})])),_:1})],64)):(0,a.kq)("",!0),(0,a.Wm)(L,{xl:8,lg:8,md:12,sm:24,xs:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{"label-width":100},{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N,{icon:"md-search",type:"primary",onClick:z.getUserList,loading:I.loading},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick","loading"]),(0,a.Wm)(N,{icon:"md-refresh",onClick:z.getUserList},{default:(0,a.w5)((()=>[m])),_:1},8,["onClick"]),(0,a._)("a",{onClick:t[0]||(t[0]=(...e)=>z.toggleAdvanced&&z.toggleAdvanced(...e))},[(0,a.Uk)((0,o.zw)(I.advanced?"收起":"展开")+" ",1),(0,a.Wm)(q,{type:I.advanced?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a._)("div",null,[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N,{type:"primary",icon:"md-add",ghost:"",onClick:z.addUser},{default:(0,a.w5)((()=>[c])),_:1},8,["onClick"]),(0,a.Wm)(N,{type:"error",icon:"md-trash",ghost:"",onClick:z.delUsers},{default:(0,a.w5)((()=>[f])),_:1},8,["onClick"])])),_:1}),(0,a._)("div",h,[(0,a.Wm)(Q,{color:"blue"},{default:(0,a.w5)((()=>[p])),_:1})]),(0,a.Wm)(X,{columns:I.columns,data:I.data,loading:I.loading,class:"ivu-mt",onOnSelectionChange:t[1]||(t[1]=e=>this.selectedRows=e),onOnCellClick:z.cellClick},{username:(0,a.w5)((({row:e})=>[(0,a.Wm)(Y,{shape:"square",src:e.avatar,size:"small"},null,8,["src"]),(0,a.Uk)(" "+(0,o.zw)(e.username),1)])),sex:(0,a.w5)((({row:e})=>[(0,a.Wm)(Q,{color:"1"===e.sex?"blue":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)("1"===e.sex?"男":"女"),1)])),_:2},1032,["color"])])),status:(0,a.w5)((({row:e})=>[(0,a.Wm)(G,{status:"1"===e.status?"success":"error",text:"1"===e.status?"正常":"冻结"},null,8,["status","text"])])),action:(0,a.w5)((({row:e})=>[(0,a._)("a",{onClick:t=>z.editUser(e)},"编辑",8,g),(0,a.Wm)(J,{type:"vertical"}),(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",{onClick:t=>z.removeUser(e)},_,8,w)),[[oe,"red"]])])),_:1},8,["columns","data","loading","onOnCellClick"]),(0,a._)("div",y,[(0,a.Wm)(K,{"show-sizer":"","show-elevator":"",total:I.total,onOnChange:z.changePage,onOnPageSizeChange:z.changePageSize},null,8,["total","onOnChange","onOnPageSizeChange"])])]),(0,a.Wm)(le,{width:560,modelValue:I.visible,title:I.title,onOnVisibleChange:t[12]||(t[12]=e=>I.visible=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{ref:"form",model:I.form,rules:I.rule,"label-colon":!0,"label-position":"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{gutter:32},{default:(0,a.w5)((()=>[I.form&&I.form.id?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(L,{span:10,class:"ivu-text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{src:I.form.avatar,size:64,shape:"square"},null,8,["src"]),I.readOnly?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(ee,{key:0,action:"//jsonplaceholder.typicode.com/posts/",class:"ivu-mt-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{type:"text"},{default:(0,a.w5)((()=>[k,(0,a.Wm)(q,{type:"ios-create-outline"})])),_:1})])),_:1}))])),_:1}),(0,a.Wm)(L,{span:14},{default:(0,a.w5)((()=>[(0,a._)("div",null,"用户ID："+(0,o.zw)(I.form.id),1),(0,a._)("div",v,"登录账号："+(0,o.zw)(I.form.account),1),(0,a._)("div",b,"创建时间："+(0,o.zw)(I.form.createTime),1)])),_:1}),(0,a.Wm)(J)],64)):(0,a.kq)("",!0),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"用户名"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:I.form.username,"onUpdate:modelValue":t[2]||(t[2]=e=>I.form.username=e),readonly:I.readOnly,placeholder:"请输入用户名，必填"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"手机号"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:I.form.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>I.form.phone=e),readonly:I.readOnly,placeholder:"请输入手机号，必填"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"邮箱"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:I.form.email,"onUpdate:modelValue":t[4]||(t[4]=e=>I.form.email=e),readonly:I.readOnly,placeholder:"请输入邮箱，必填"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"性别",clearable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{modelValue:I.form.sex,"onUpdate:modelValue":t[5]||(t[5]=e=>I.form.sex=e),readonly:I.readOnly,placeholder:"请选择性别，必填"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{value:"1"},{default:(0,a.w5)((()=>[C])),_:1}),(0,a.Wm)(P,{value:"2"},{default:(0,a.w5)((()=>[U])),_:1})])),_:1},8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"状态",clearable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{modelValue:I.form.status,"onUpdate:modelValue":t[6]||(t[6]=e=>I.form.status=e),readonly:I.readOnly,placeholder:"请选择状态"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{value:"1"},{default:(0,a.w5)((()=>[x])),_:1}),(0,a.Wm)(P,{value:"2"},{default:(0,a.w5)((()=>[M])),_:1}),(0,a.Wm)(P,{value:"3"},{default:(0,a.w5)((()=>[V])),_:1})])),_:1},8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"角色分配"},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{modelValue:I.form.role,"onUpdate:modelValue":t[7]||(t[7]=e=>I.form.role=e),readonly:I.readOnly,placeholder:"请选择角色",multiple:"","max-tag-count":1},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{value:"1"},{default:(0,a.w5)((()=>[O,R])),_:1}),(0,a.Wm)(P,{value:"2"},{default:(0,a.w5)((()=>[T,$])),_:1}),(0,a.Wm)(P,{value:"3"},{default:(0,a.w5)((()=>[S,D])),_:1})])),_:1},8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"登录账号"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:I.form.account,"onUpdate:modelValue":t[8]||(t[8]=e=>I.form.account=e),readonly:I.readOnly,placeholder:"请输入登录账号，必填"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(J),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"地区"},{default:(0,a.w5)((()=>[(0,a.Wm)(te,{modelValue:I.form.area,"onUpdate:modelValue":t[9]||(t[9]=e=>I.form.area=e),readonly:I.readOnly,placeholder:"请选择地区"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:12},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"生日"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{modelValue:I.form.birthday,"onUpdate:modelValue":t[10]||(t[10]=e=>I.form.birthday=e),readonly:I.readOnly,placeholder:"请选择日期"},null,8,["modelValue","readonly"])])),_:1})])),_:1}),(0,a.Wm)(L,{span:24},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{label:"个人介绍"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{modelValue:I.form.desc,"onUpdate:modelValue":t[11]||(t[11]=e=>I.form.desc=e),readonly:I.readOnly,type:"textarea",rows:3,placeholder:"请输入个人介绍"},null,8,["modelValue","readonly"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])),_:1})}var z=l(73651),A=l(33564),B={name:"User",components:{Region:z.yp},data(){return{query:{pageNo:1,pageSize:10},advanced:!1,loading:!1,columns:[{type:"selection",align:"center",width:60},{title:"用户名",key:"username",slot:"username",sortable:!0,minWidth:140},{title:"登录账号",key:"account",sortable:!0,minWidth:120},{title:"手机号",key:"phone",minWidth:140},{title:"邮箱",key:"email",minWidth:180},{title:"性别",key:"sex",slot:"sex",minWidth:100},{title:"状态",key:"status",slot:"status",minWidth:100},{title:"创建时间",key:"createTime",sortable:!0,minWidth:180},{title:"操作",slot:"action",align:"center",fixed:"right",minWidth:120}],data:[],total:0,visible:!1,selectedRows:[],form:{},rule:{},title:"",readOnly:!1}},created(){this.getUserList()},methods:{getUserList(){this.loading=!0;const e={...this.query};(0,A.RB)(e).then((e=>{this.data=e.data,this.total=e.totalCount,this.loading=!1}))},changePage(e){this.query.pageNo=e,this.getUserList()},changePageSize(e){this.query.pageSize=e,this.getUserList()},editUser(e){this.form=e,this.title="编辑用户",this.readOnly=!1,this.visible=!0},removeUser(e){this.$Modal.confirm({title:"删除确认",content:`您确认要删除用户<strong>${e.username}</strong>？`,loading:!0,onOk:()=>{setTimeout((()=>{this.$Modal.remove(),this.$Message.error("抱歉，您没有该权限")}),800)},onCancel:()=>{this.$Message.info("点击了取消")}})},toggleAdvanced(){this.advanced=!this.advanced},addUser(){this.form={},this.title="添加用户",this.readOnly=!1,this.visible=!0},delUsers(){this.selectedRows.length?this.$Modal.confirm({title:"删除确认",content:`您确认要删除用户<strong>${this.selectedRows.map((e=>e.username)).join(",")}</strong>？`,loading:!0,onOk:()=>{setTimeout((()=>{this.$Modal.remove(),this.$Message.error("抱歉，您没有该权限")}),800)},onCancel:()=>{this.$Message.info("点击了取消")}}):this.$Message.error("您没有选择用户")},cellClick(e,t,l,a){l&&(this.form=e,this.title="用户信息",this.readOnly=!0,this.visible=!0)}}},L=l(40089);const P=(0,L.Z)(B,[["render",I]]);var j=P}}]);